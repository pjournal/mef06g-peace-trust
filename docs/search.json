[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Peace and Trust Progress Journal",
    "section": "",
    "text": "Group Members\n\nYudum Paçin\n\nFazlı Mengü Aydın\nMuhammed Ali Gökmen\nSabri Demirdal\nGizem Erdoğan\n\n\n\nGroup Project Details\nOur group project is Agriculture in Turkey - Agriculture in Turkey based on TUIK data\n\nData Preprocessing\nExploratory Data Analysis\nFinal Report\n\nHTML Format\nTeaser will be added\n\nShiny App\n\nYou can also reach the Shiny App by running the code below in R Console.\n\nshiny::runGitHub(\"pjournal/mef06g-peace-trust\",subdir=\"/project/app.R\")"
  },
  {
    "objectID": "assignment1.html",
    "href": "assignment1.html",
    "title": "1  STARTUPS 2021",
    "section": "",
    "text": "In this report, we will explore the data set of start-ups getting investments from a variety of domestic and international investors. Data is gathered from KPMG and 212’s Turkish Startup Investments Review 2021 report."
  },
  {
    "objectID": "assignment1.html#key-takeaways-of-the-report",
    "href": "assignment1.html#key-takeaways-of-the-report",
    "title": "1  STARTUPS 2021",
    "section": "KEY TAKEAWAYS OF THE REPORT",
    "text": "KEY TAKEAWAYS OF THE REPORT\n\nIn the seed stage, Gaming sector has the lead, in the acquistion sector, SaaS is the leader sector\nGaming is winner of number of investment category, but if we look at total deals Ecommerce Enabler sector is winner. This is possibly due to the trendyol,hepsiburada investments which are outliers of this category. Delivery & Logistic sector is also ahead of Gaming, this is also due to the getir, which is also a outlier in terms of deal amount.\nGetir also stands out as a start-up that gets investments more than one stage (Later VC Stage, Early VC Stage) and more than once in 2021. Servislet is another start-up that getting investments both Seed Stage and Early VC Stage stage in 2021. These two start-ups draw attention with their rapid growth in 1 year.\nGaming sector has the highest number of investors\nAgritech sector is the most multi-cultural sector in terms of different number of investor origins in one deal\nMost of the investments made in December and August, and the most quite months are May and October, as quarters, number of total investments are increasing in Q3,Q4 if we compare Q1 and Q2.\nFintech startups’ 73% of investments coming from Financial Investors. Interestingly, 86% of Delivery & Logistics investments and 78% of Healthtech investments coming from Financial Investors which are greater than Fintech.\nSeed-Stage is mostly invested by Financial investors. This may be due to financial investors’ willing to invest in the beginning of the start-ups to get more profit.\n\n\nDATA PREPROCESSING\nCall necessary libraries\n\n\nShow the code\n#install.packages(\"readxl\")\nlibrary(readxl)\nlibrary(lubridate)\nlibrary(dplyr)\nlibrary(tidyverse)\nlibrary(ggplot2)\n\n\nLoad the data\n\n\nShow the code\ndata = read_excel(\"data//startup_deals_2021.xlsx\")\n\n\nRename the column names\n\n\nShow the code\ndata <- data %>% \n  rename(Stage = 'Investment Stage',\n         Company = 'Target Company',\n         DealValue = 'Deal Value (USD)',\n         Financial = 'Financial Investor',\n         Date = 'Announcement Date',\n         Origin =\"Investor's Origin\",\n         Stake = \"Stake (%)\"\n  )\ncolnames(data)\n\n\n[1] \"Company\"   \"Sector\"    \"Investor\"  \"Date\"      \"Financial\" \"Origin\"   \n[7] \"Stake\"     \"DealValue\" \"Stage\"    \n\n\n\nConvert “Deal Value (USD)” type to numeric data\nConvert Date column to date type, and drop year 2021, since all date values have same year, 2021\nDrop % sign for Stake, and convert to numeric data type\n\n\n\nShow the code\noptions(scipen=999)\ndata$DealValue <- suppressWarnings(as.numeric(data$DealValue))\n\ndata$Date <- my(data$Date)\n\n\ndata <- data %>% \n  mutate(Stake = str_replace_all(Stake, \"%\", \"\"))\ndata$Stake <- suppressWarnings(as.numeric(data$Stake))\nsapply(data, class)\n\n\n    Company      Sector    Investor        Date   Financial      Origin \n\"character\" \"character\" \"character\"      \"Date\" \"character\" \"character\" \n      Stake   DealValue       Stage \n  \"numeric\"   \"numeric\" \"character\" \n\n\nSector feature has inconsistent values like Diğital Comparison, Artificial intelligence, Cybersec urity, Telecpm, Artificial Intelligence, B lockchain.\n\n\nShow the code\ndata_incons <- data %>%\n  filter(Sector %in% c('Diğital Comparison',\n'Artificial intelligence',\n'Cybersec urity',\n'Telecpm',\n'Artificial Intelligence',\n'B lockchain'\n))\nunique(data_incons$Sector)\n\n\n[1] \"Artificial Intelligence\" \"Artificial intelligence\"\n[3] \"B lockchain\"             \"Diğital Comparison\"     \n[5] \"Cybersec urity\"          \"Telecpm\"                \n\n\nInconsistent Sector values are updated with the right values.\n\n\nShow the code\ndata$Sector[data$Sector == 'Artificial intelligence'] <- 'Artificial Intelligence'\ndata$Sector[data$Sector == 'Telecpm'] <- 'Telecom'\ndata$Sector[data$Sector == 'B lockchain'] <- 'Blockchain'\ndata$Sector[data$Sector == 'Diğital '] <- 'Dijital'\ndata$Sector[data$Sector == 'Cybersec urity '] <- 'Cybersecurity'\ndata$Sector[data$Sector == 'Ecommerce enabler'] <- 'Ecommerce Enabler'\ndata$Sector[data$Sector == 'I mage process'] <- 'Image process'\ndata$Sector[data$Sector == 'Ecommerce enabler'] <- 'Ecommerce Enabler'\ndata$Sector[data$Sector == 'Data analytics'] <- 'Data Analytics'\n\n\nNow the data is ready for the EDA,\n\n\nShow the code\nknitr::kable(head(data))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCompany\nSector\nInvestor\nDate\nFinancial\nOrigin\nStake\nDealValue\nStage\n\n\n\n\nAbonesepeti\nSaaS\nKeiretsu Forum, Berkan Burla\n2021-06-01\nYes\nTurkey\n5\n100000\nSeed Stage\n\n\nAbrakadabra\nGaming\nWePlay Ventures\n2021-12-01\nYes\nTurkey\n5\n250000\nSeed Stage\n\n\nAce Games\nGaming\nActera Group, NFX, Kristian Segerstrale, Alexis Bonte, Kaan Günay (Private Investors)\n2021-04-01\nYes\nTurkey, USA\nNA\nNA\nSeed Stage\n\n\nAdlema\nInternet of things\nTR Angels\n2021-06-01\nYes\nTurkey\nNA\n120000\nSeed Stage\n\n\nAgave Games\nGaming\n500 Istanbul (Fund II), Akin Babayiğit (Private Investor)\n2021-09-01\nYes\nTurkey\nNA\n100000\nSeed Stage\n\n\nAgrio\nFintech\nlnnovate21st.com\n2021-06-01\nYes\nTurkey\nNA\n1000000\nSeed Stage\n\n\n\n\n\n\n\nEXPLORATORY DATA ANALYSIS\n\nGaming is a good start!\nIf we look at the number of deals Gaming sector is at the top in Seed stage and also in all stages!\n\n\nShow the code\ndf <- data %>% \n  group_by(Sector) %>% \n  summarise(TotalNumberofDeals=n()) %>%\n  top_n(n=10) \nggplot(data=df, aes(x=Sector, y=TotalNumberofDeals)) +\n  geom_bar(position=\"dodge\",stat=\"identity\") + \n  ggtitle(\"Number of Deals vs Sectors (Top 10)\")+\n  theme(axis.text.x = element_text(angle = 45))\n\n\n\n\n\n\n\nShow the code\nsector_stage <- data %>%\n  group_by(Stage,Sector) %>%\n  summarise(Total = n()) %>% \n  arrange(desc(Total)) %>%\n  slice_max(Total,n=3)\nknitr::kable(sector_stage)\n\n\n\n\n\nStage\nSector\nTotal\n\n\n\n\nAcquisition\nSaaS\n10\n\n\nAcquisition\nGaming\n5\n\n\nAcquisition\nFintech\n4\n\n\nEarly VC Stage\nFintech\n3\n\n\nEarly VC Stage\nEcommerce Enabler\n2\n\n\nEarly VC Stage\nFoodtech\n2\n\n\nEarly VC Stage\nGaming\n2\n\n\nLater VC Stage\nDelivery & Logistics\n3\n\n\nSeed Stage\nGaming\n44\n\n\nSeed Stage\nSaaS\n17\n\n\nSeed Stage\nFintech\n16\n\n\n\n\n\n\n\nShow the code\nggplot(data=sector_stage, aes(x=Stage, y=Total, fill=factor(Sector))) +\n  geom_bar(position=\"dodge\",stat=\"identity\") + \n  ggtitle(\"Investment Stage and Investment Sectors\")\n\n\n\n\n\n\n\nDeal Amounts: A General Look\nEcommerce Enabler is the winning sector if we look at the Total Deal Value(USD).\n\n\nShow the code\ndf1 <-  data %>%\n  mutate(TotalDeal = sum(DealValue,na.rm = TRUE))\n\n \ndf2 <- df1 %>%\n  group_by(Sector) %>%\n  summarise(RateOfDeal=(sum(DealValue,na.rm = TRUE)/TotalDeal)*100) %>%\n  arrange(desc(RateOfDeal)) \n  \n\nknitr::kable(head(unique(df2)))\n\n\n\n\n\nSector\nRateOfDeal\n\n\n\n\nEcommerce Enabler\n58.7822478\n\n\nDelivery & Logistics\n27.1997590\n\n\nGaming\n5.8547176\n\n\nSaaS\n2.2243645\n\n\nFintech\n0.7646592\n\n\nMarketplace\n0.7006893\n\n\n\n\n\n\n\nShow the code\ndf3 <- df2 %>% filter(RateOfDeal>1)\ndf3 <- unique(df3)\nggplot(df3, aes(x=\"Sector\", y=RateOfDeal, fill=Sector))+\ngeom_bar(width = 1, stat = \"identity\") +\n  ggtitle(\"Deal(USD) Rates of Sectors (greater than 1%)\")\n\n\n\n\n\n\n\nDeal Amounts: Who makes the difference?\nGaming has the lead at number of deals, but e-commerce enablers sector is at the top of deal amounts. So, Deal Value category is investigated with a boxplot.\n\n\nShow the code\ndf <-  data %>%\n  group_by(Company,Sector) %>%\n  summarise(Total=n(),TotalDealValue=sum(DealValue))  %>%\n  arrange(desc(TotalDealValue))\nggplot(df) +\n  aes(x = \"\", y = log(TotalDealValue)) +\n  geom_boxplot(fill = \"#0c4c8a\") +\n  theme_minimal()\n\n\n\n\n\nThere are upper outliers and a 1 lower outlier. Let’s look deeper at the upper outlier, to see which companies make the difference.\nWhich companies make the difference?\n\n\nShow the code\nlower_bound <- quantile(df$TotalDealValue, 0.01,na.rm = TRUE)\nupper_bound <- quantile(df$TotalDealValue, 0.99,na.rm = TRUE)\n\nupper_outlier_ind <- which(df$TotalDealValue > upper_bound)\n\n\nknitr::kable(df[upper_outlier_ind, ],caption = \"Companies Making Difference\")\n\n\n\nCompanies Making Difference\n\n\nCompany\nSector\nTotal\nTotalDealValue\n\n\n\n\ntrendyol\nEcommerce Enabler\n1\n1435000000\n\n\nGetir\nDelivery & Logistics\n4\n1018000000\n\n\nhepsiburada\nEcommerce Enabler\n1\n761481000\n\n\n\n\n\n\n\nCompanies which were invested in different stages\n\n\nShow the code\nStage_v1 <- data %>% group_by(Company,Stage) %>%\n  summarise(Investment_Count = n(),\n  TotalDealValue=sum(DealValue)          \n  )\n\nStage_v2 <- Stage_v1 %>% group_by(Company) %>%\n  summarise(StageCount = n()) %>%\n  filter(StageCount>1)\n\nMorethanonestage <-data %>%\n                    select(Company,Sector,DealValue,Date,Stage) %>%\n                    filter(Company %in% Stage_v2$Company) \n\nknitr::kable(Morethanonestage,caption = \"Companies which invested in different stages\")\n\n\n\nCompanies which invested in different stages\n\n\n\n\n\n\n\n\n\nCompany\nSector\nDealValue\nDate\nStage\n\n\n\n\nGetir\nDelivery & Logistics\n555000000\n2021-06-01\nLater VC Stage\n\n\nGetir\nDelivery & Logistics\n300000000\n2021-03-01\nLater VC Stage\n\n\nGetir\nDelivery & Logistics\n128000000\n2021-01-01\nEarly VC Stage\n\n\nGetir\nDelivery & Logistics\n35000000\n2021-08-01\nLater VC Stage\n\n\nServislet\nMarketplace\n12000000\n2021-12-01\nEarly VC Stage\n\n\nServislet\nMarketplace\n500000\n2021-07-01\nSeed Stage\n\n\n\n\n\n\n\nInvestors\nIf we look at the number of investors, Gaming is also winner for this category. Investor Numbers by Sectors\n\n\nShow the code\ndata_investor <- mutate(data,\n       investor_number = sapply(strsplit(as.character(data$Investor), \",\"), length))\n\ninvestor_gg <- data_investor %>%\n  group_by(Sector) %>%\n  summarise(TotalNumberInvestor=sum(investor_number))  %>%\n  arrange(desc(TotalNumberInvestor)) %>%\n  slice_max(TotalNumberInvestor,n=10)\n\nggplot(data=investor_gg, aes(x=Sector, y=TotalNumberInvestor)) +\n  geom_bar(position=\"dodge\",stat=\"identity\") + \n  ggtitle(\"Number of Investors by Sectors\") +\n  theme(axis.text.x = element_text(angle = 90))\n\n\n\n\n\nInvestor Numbers by Origins : Most Multi-cultural Sector : Agritech \nAgritech sector is the most multi-cultural sector in terms of different number of investor origins in one deal\n\n\nShow the code\ndata_inv_origin <- mutate(data,\n       origin_number = sapply(strsplit(as.character(data$Origin), \",\"), length)) \n\ninv_or_sec <- data_inv_origin %>%\n  group_by(Sector) %>%\n  summarise(MaxOriginNumber = max(origin_number),MeanOriginNumber = mean(origin_number)) %>%\n  filter(MaxOriginNumber>1) %>%\n  arrange(desc(MaxOriginNumber)) %>%\n  top_n(5)\n\n \nknitr::kable(inv_or_sec)\n\n\n\n\n\nSector\nMaxOriginNumber\nMeanOriginNumber\n\n\n\n\nAgritech\n5\n1.625000\n\n\nEcommerce Enabler\n4\n1.666667\n\n\nDelivery & Logistics\n3\n1.307692\n\n\nAdvertising\n2\n1.500000\n\n\nFoodtech\n2\n1.222222\n\n\n\n\n\nInvestors: Financial or Non-Financial?\nFintech startups’ 73% of investments coming from Financial Investors. Interestingly, 86% of Delivery & Logistics investments and 78% of Healthtech investments coming from Financial Investors which are greater than Fintech.\n\n\nShow the code\ndf1 <- data %>%\n  group_by(Sector) %>%\n  summarise(\n    Total = n(),\n    Financial = sum(Financial == \"Yes\")\n  ) %>%\n  mutate(FinancialInvestorPercentage =(Financial/Total)*100 ) %>%\n  filter(Total>1) %>%\n  arrange(desc(Financial),desc(FinancialInvestorPercentage))\n\nknitr::kable(head(df1,10))\n\n\n\n\n\n\n\n\n\n\n\nSector\nTotal\nFinancial\nFinancialInvestorPercentage\n\n\n\n\nGaming\n51\n27\n52.94118\n\n\nSaaS\n28\n19\n67.85714\n\n\nFintech\n23\n17\n73.91304\n\n\nDelivery & Logistics\n13\n11\n84.61538\n\n\nHealthtech\n14\n11\n78.57143\n\n\nMarketplace\n17\n11\n64.70588\n\n\nArtificial Intelligence\n14\n9\n64.28571\n\n\nEcommerce Enabler\n9\n7\n77.77778\n\n\nFoodtech\n9\n7\n77.77778\n\n\nBiotech\n6\n6\n100.00000\n\n\n\n\n\n\n\nWhen the investments take place most?\nTotal number of deals are increasing in Q3,Q4 if we compare Q1 and Q2.\n\n\nShow the code\ndf <-  data %>%\n  mutate(Month = month(data$Date, label=TRUE)) %>%\n  mutate(Quarter = paste(\"2021 Q\", quarter(data$Date)))  %>%\n  group_by(Quarter) %>%\n  summarise(Total=n())%>%\n  arrange(Quarter) \n\nggplot(data=df, aes(x=Quarter, y=Total, group=1)) +\n  geom_line()+\n  geom_point() +\n  ylim(0,100) +\n  ggtitle(\"Number of Investments Quarters - 2021\")\n\n\n\n\n\nMost of the investments made in December and August, and the most quite months are May and October.\n\n\nShow the code\ndf1 <-  data %>%\n  mutate(Month = month(data$Date, label=TRUE)) %>%\n  group_by(Month) %>%\n  summarise(Total=n())%>%\n  arrange(Month) \n\nggplot(data=df1, aes(x=Month, y=Total, group=1)) +\n  geom_line()+\n  geom_point() +\n  ylim(0,100) +\n  ggtitle(\"Number of Investments Monthly - 2021\")\n\n\n\n\n\n\n\nWhich state to invest? Non-financial and financial investors\nWe can say that Seed Stage has been mostly invested by Financial investors and Acquisition stage mostly invested by Non-Financial investors.\n\n\nShow the code\n  ggplot(data,aes(x = Stage, y=Sector, fill = Financial)) +\n    geom_dotplot(binaxis = \"y\", stackdir = \"center\",\n                 dotsize=1,binwidth = 1)\n\n\n\n\n\n\n\nWhich investor making the highest number of investment according to sector in every investment stage\n\n\nShow the code\ndata_investor %>% separate_rows(Investor,sep = \",\") %>%  head()\n\n\n# A tibble: 6 × 10\n  Company   Sector Inves…¹ Date       Finan…² Origin Stake DealV…³ Stage inves…⁴\n  <chr>     <chr>  <chr>   <date>     <chr>   <chr>  <dbl>   <dbl> <chr>   <int>\n1 Abonesep… SaaS   \"Keire… 2021-06-01 Yes     Turkey     5  100000 Seed…       2\n2 Abonesep… SaaS   \" Berk… 2021-06-01 Yes     Turkey     5  100000 Seed…       2\n3 Abrakada… Gaming \"WePla… 2021-12-01 Yes     Turkey     5  250000 Seed…       1\n4 Ace Games Gaming \"Acter… 2021-04-01 Yes     Turke…    NA      NA Seed…       5\n5 Ace Games Gaming \" NFX\"  2021-04-01 Yes     Turke…    NA      NA Seed…       5\n6 Ace Games Gaming \" Kris… 2021-04-01 Yes     Turke…    NA      NA Seed…       5\n# … with abbreviated variable names ¹​Investor, ²​Financial, ³​DealValue,\n#   ⁴​investor_number\n\n\n\n\nShow the code\ndf_investor<-data_investor %>% separate_rows(Investor,sep = \",\")\ndf_investor <- df_investor %>% select(Investor,Stage,Sector)\ndf_investor %>% group_by(Stage,Sector,Investor) %>% summarise(Number_of_invesmment=n()) %>% arrange(desc(Number_of_invesmment))\n\n\n# A tibble: 628 × 4\n# Groups:   Stage, Sector [73]\n   Stage          Sector               Investor                   Number_of_in…¹\n   <chr>          <chr>                <chr>                               <int>\n 1 Seed Stage     Gaming               \"Games United\"                          8\n 2 Seed Stage     Gaming               \"WePlay Ventures\"                       7\n 3 Acquisition    Gaming               \"Rollic\"                                3\n 4 Acquisition    SaaS                 \"Verusaturk GSYO\"                       2\n 5 Early VC Stage Gaming               \" Balderton Capital\"                    2\n 6 Early VC Stage Gaming               \" Makers Fund\"                          2\n 7 Later VC Stage Delivery & Logistics \" Goodwater Capital\"                    2\n 8 Later VC Stage Delivery & Logistics \" Tiger Global Management\"              2\n 9 Seed Stage     Advertising          \" twozero Ventures\"                     2\n10 Seed Stage     Agritech             \"Startup Wise Guys\"                     2\n# … with 618 more rows, and abbreviated variable name ¹​Number_of_invesmment\n\n\n** So if we have a company in the seed stage and in the gaming sector, it is very meaningfull to aim ınvestors like “Games United” and “WePlay Ventures” in order to get investment **"
  },
  {
    "objectID": "project/agriculture.html",
    "href": "project/agriculture.html",
    "title": "2  Group Project: Agriculture in Turkey - Preprocessing",
    "section": "",
    "text": "Tarım"
  },
  {
    "objectID": "project/agriculture.html#business-problem",
    "href": "project/agriculture.html#business-problem",
    "title": "2  Group Project: Agriculture in Turkey - Preprocessing",
    "section": "BUSINESS PROBLEM",
    "text": "BUSINESS PROBLEM\nAgricultural production plays a key role in the independence and development of a country. In this project, we aim to analyze the changes in our agricultural production areas and products over the years and obtain output in Turkey."
  },
  {
    "objectID": "project/agriculture.html#data-description",
    "href": "project/agriculture.html#data-description",
    "title": "2  Group Project: Agriculture in Turkey - Preprocessing",
    "section": "DATA DESCRIPTION",
    "text": "DATA DESCRIPTION\nData is gathered from TUIK Agriculture Data\nThere are various different types of Agriculture data in TUIK. Datasets that we will use are:\n\n12-year agricultural area by province\n12-year grain production by province\n12-year vegetable production by province\n12-year fruit production by province"
  },
  {
    "objectID": "project/agriculture.html#preprocess",
    "href": "project/agriculture.html#preprocess",
    "title": "2  Group Project: Agriculture in Turkey - Preprocessing",
    "section": "PREPROCESS",
    "text": "PREPROCESS\n\nCall necessary libraries\n\n#install.packages(\"readxl\")\nlibrary(readxl)\nlibrary(lubridate)\nlibrary(dplyr)\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(tidyr)\n\n\n\nLoad the TUIK data sets\n\ntarim_raw = read_excel(\"data//tarım.xlsx\")\ntahil_raw = read_excel(\"data//tahıl.xlsx\")\nsebze_raw = read_excel(\"data//sebze.xlsx\")\nmeyve_raw = read_excel(\"data//meyve.xlsx\")\n\n\n\nView the raw data\n\nknitr::kable(head(tarim_raw),caption = \"12-year agricultural area by province\")\n\n\n12-year agricultural area by province\n\n\nİl\nYıl\nTarım Alanı - Dekar\n\n\n\n\nAdana-1\n2010\n5506353\n\n\nAdana-1\n2011\n4962979\n\n\nAdana-1\n2012\n4807968\n\n\nAdana-1\n2013\n4751612\n\n\nAdana-1\n2014\n4982042\n\n\nAdana-1\n2015\n4887150\n\n\n\n\n\n\nknitr::kable(head(tahil_raw),caption = \"12-year grain production by province\")\n\n\n12-year grain production by province\n\n\n\n\n\n\n\n\nTür\nİl\nYıl\nDeğer\n\n\n\n\nEkilen Alan ve 01.11.11.00.00. (Durum Buğdayı) - Dekar\nAdana-1\n2010\n8508\n\n\nEkilen Alan ve 01.11.12.00.00. (Buğday, Durum Buğdayı Hariç) - Dekar\nAdana-1\n2010\n2167738\n\n\nEkilen Alan ve 01.11.20.00.00. (Mısır) - Dekar\nAdana-1\n2010\n860354\n\n\nEkilen Alan ve 01.11.31.00.01. (Arpa (Biralık)) - Dekar\nAdana-1\n2010\nNA\n\n\nEkilen Alan ve 01.11.31.00.02. (Arpa (Diğer)) - Dekar\nAdana-1\n2010\n63190\n\n\nEkilen Alan ve 01.11.32.00.00. (Çavdar) - Dekar\nAdana-1\n2010\n1042\n\n\n\n\n\n\nknitr::kable(head(sebze_raw),caption = \"12-year vegetable production by province\")\n\n\n12-year vegetable production by province\n\n\n\n\n\n\n\n\nTür\nİl\nYıl\nDeğer\n\n\n\n\nEkilen Alan ve 01.11.61.00.01. (Fasulye, Taze) - Dekar\nAdana-1\n2010\n3640\n\n\nEkilen Alan ve 01.11.61.00.02. (Barbunya, Taze) - Dekar\nAdana-1\n2010\n600\n\n\nEkilen Alan ve 01.11.62.00.00. (Bezelye, Taze) - Dekar\nAdana-1\n2010\n5860\n\n\nEkilen Alan ve 01.11.69.00.01. (Börülce, Taze) - Dekar\nAdana-1\n2010\n55\n\n\nEkilen Alan ve 01.11.69.00.02. (Bakla, Taze) - Dekar\nAdana-1\n2010\n3240\n\n\nEkilen Alan ve 01.13.11.00.00. (Kuşkonmaz) - Dekar\nAdana-1\n2010\nNA\n\n\n\n\n\n\nknitr::kable(head(meyve_raw),caption = \"12-year agricultural area by province\")\n\n\n12-year agricultural area by province\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTür\nYıl\nAdana-1\nAdıyaman-2\nAfyonkarahisar-3\nAksaray-68\nAmasya-5\nAnkara-6\nAntalya-7\nArdahan-75\nArtvin-8\nAydın-9\nAğrı-4\nBalıkesir-10\nBartın-74\nBatman-72\nBayburt-69\nBilecik-11\nBingöl-12\nBitlis-13\nBolu-14\nBurdur-15\nBursa-16\nDenizli-20\nDiyarbakır-21\nDüzce-81\nEdirne-22\nElazığ-23\nErzincan-24\nErzurum-25\nEskişehir-26\nGaziantep-27\nGiresun-28\nGümüşhane-29\nHakkari-30\nHatay-31\nIsparta-32\nIğdır-76\nKahramanmaraş-46\nKarabük-78\nKaraman-70\nKars-36\nKastamonu-37\nKayseri-38\nKilis-79\nKocaeli-41\nKonya-42\nKütahya-43\nKırklareli-39\nKırıkkale-71\nKırşehir-40\nMalatya-44\nManisa-45\nMardin-47\nMersin-33\nMuğla-48\nMuş-49\nNevşehir-50\nNiğde-51\nOrdu-52\nOsmaniye-80\nRize-53\nSakarya-54\nSamsun-55\nSiirt-56\nSinop-57\nSivas-58\nTekirdağ-59\nTokat-60\nTrabzon-61\nTunceli-62\nUşak-64\nVan-65\nYalova-77\nYozgat-66\nZonguldak-67\nÇanakkale-17\nÇankırı-18\nÇorum-19\nİstanbul-34\nİzmir-35\nŞanlıurfa-63\nŞırnak-73\n\n\n\n\nMeyve Veren Yaşta Ağaç Sayısı ve 01.21.11.01.01. (Sofralık Üzüm, Çekirdekli) - Adet Sayısı\n2010\n0\n0\n0\n0\n0\n0\n0\nNA\n0\n0\nNA\n0\n0\n0\nNA\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nNA\n0\n0\n0\n0\n0\n0\n0\nNA\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nNA\n0\n0\n0\n0\n0\n0\n0\n0\n0\nNA\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\nMeyve Veren Yaşta Ağaç Sayısı ve 01.21.11.01.02. (Sofralık Üzüm, Çekirdeksiz) - Adet Sayısı\n2010\n0\n0\n0\nNA\nNA\n0\n0\nNA\n0\n0\nNA\n0\nNA\n0\nNA\nNA\n0\nNA\nNA\n0\n0\n0\n0\nNA\nNA\nNA\nNA\nNA\n0\n0\n0\nNA\n0\n0\n0\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n0\n0\n0\nNA\nNA\n0\nNA\n0\nNA\n0\n0\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n0\nNA\nNA\nNA\nNA\nNA\n0\nNA\nNA\nNA\n0\nNA\nNA\nNA\n0\n0\nNA\nNA\n\n\nMeyve Veren Yaşta Ağaç Sayısı ve 01.21.12.01.01. (Şaraplık Üzümler) - Adet Sayısı\n2010\n0\n0\nNA\nNA\n0\n0\n0\nNA\nNA\n0\nNA\n0\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n0\nNA\n0\n0\n0\n0\n0\nNA\nNA\n0\n0\nNA\nNA\nNA\n0\n0\nNA\n0\n0\n0\nNA\nNA\n0\n0\nNA\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nNA\n0\n0\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n0\n0\nNA\n0\n0\nNA\nNA\nNA\nNA\n0\n0\n0\n0\n0\n0\nNA\n\n\nMeyve Veren Yaşta Ağaç Sayısı ve 01.21.12.02.01. (Kurutmalık Üzüm, Çekirdekli) - Adet Sayısı\n2010\n0\n0\n0\n0\nNA\nNA\n0\nNA\nNA\nNA\nNA\n0\nNA\n0\nNA\n0\nNA\n0\nNA\n0\nNA\n0\n0\nNA\nNA\nNA\nNA\nNA\n0\n0\nNA\nNA\n0\nNA\n0\nNA\n0\nNA\n0\nNA\nNA\n0\n0\n0\n0\nNA\nNA\n0\n0\n0\n0\n0\n0\n0\nNA\n0\n0\nNA\n0\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n0\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n0\n0\n0\n0\n\n\nMeyve Veren Yaşta Ağaç Sayısı ve 01.21.12.02.02. (Kurutmalık Üzüm, Çekirdeksiz) - Adet Sayısı\n2010\nNA\nNA\nNA\n0\nNA\nNA\n0\nNA\nNA\n0\nNA\n0\nNA\n0\nNA\nNA\nNA\nNA\nNA\n0\nNA\n0\n0\nNA\nNA\nNA\nNA\nNA\n0\nNA\nNA\nNA\n0\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n0\nNA\nNA\nNA\nNA\nNA\n0\nNA\nNA\n0\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n0\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n0\nNA\n0\n\n\nMeyve Veren Yaşta Ağaç Sayısı ve 01.22.11.00.00. (Avokado) - Adet Sayısı\n2010\nNA\nNA\nNA\nNA\nNA\nNA\n16895\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n2745\n1410\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n\n\n\n\n\nFix the column names\n\nnew_cols <- c(\"province\",\"year\",\"decare\")\ncolnames(tarim_raw) <- new_cols\ntarim <-tarim_raw\nnew_cols <- c(\"vegetable_type\",\"province\",\"year\",\"decare\")\ncolnames(sebze_raw) <- new_cols\nnew_cols <- c(\"grain_type\",\"province\",\"year\",\"decare\")\ncolnames(tahil_raw) <- new_cols\n\n\n\nTransform Meyve Dataset\n\nmeyve <- meyve_raw %>% pivot_longer(cols = 'Adana-1':'Şırnak-73', names_to = 'province',\n         values_to = 'production') \nmeyve\n\n# A tibble: 297,675 × 4\n   Tür                                                     Yıl   provi…¹ produ…²\n   <chr>                                                   <chr> <chr>     <dbl>\n 1 Meyve Veren Yaşta Ağaç Sayısı ve 01.21.11.01.01. (Sofr… 2010  Adana-1       0\n 2 Meyve Veren Yaşta Ağaç Sayısı ve 01.21.11.01.01. (Sofr… 2010  Adıyam…       0\n 3 Meyve Veren Yaşta Ağaç Sayısı ve 01.21.11.01.01. (Sofr… 2010  Afyonk…       0\n 4 Meyve Veren Yaşta Ağaç Sayısı ve 01.21.11.01.01. (Sofr… 2010  Aksara…       0\n 5 Meyve Veren Yaşta Ağaç Sayısı ve 01.21.11.01.01. (Sofr… 2010  Amasya…       0\n 6 Meyve Veren Yaşta Ağaç Sayısı ve 01.21.11.01.01. (Sofr… 2010  Ankara…       0\n 7 Meyve Veren Yaşta Ağaç Sayısı ve 01.21.11.01.01. (Sofr… 2010  Antaly…       0\n 8 Meyve Veren Yaşta Ağaç Sayısı ve 01.21.11.01.01. (Sofr… 2010  Ardaha…      NA\n 9 Meyve Veren Yaşta Ağaç Sayısı ve 01.21.11.01.01. (Sofr… 2010  Artvin…       0\n10 Meyve Veren Yaşta Ağaç Sayısı ve 01.21.11.01.01. (Sofr… 2010  Aydın-9       0\n# … with 297,665 more rows, and abbreviated variable names ¹​province,\n#   ²​production\n\n\nRename the meyve dataset columns\n\nnew_cols <- c(\"fruit_type\",\"year\",\"province\",\"production\")\ncolnames(meyve) <- new_cols\n\n\n\nSeparate the Columns\nSeparate Product name and product types\n\ntahil_v1 <- separate(data = tahil_raw, col = grain_type, into = c(\"main_type\", \"product_type\"), sep = \" ve \")\n\ntahil <- separate(data = tahil_v1, col = product_type, into = c(\"product_type\", \"unit\"), sep = \"-\")\n\ntahil <- separate(tahil, product_type, into = c(\"product_code\", \"product_name\"), sep = \"^\\\\S*\\\\K\\\\s+\")\n\nsebze_v1 <- separate(data = sebze_raw, col = vegetable_type, into = c(\"main_type\", \"product_type\"), sep = \" ve \")\n\nsebze <- separate(data = sebze_v1, col = product_type, into = c(\"product_type\", \"unit\"), sep = \"-\")\n\nsebze <-separate(sebze, product_type, into = c(\"product_code\", \"product_name\"), sep = \"^\\\\S*\\\\K\\\\s+\")\n\nmeyve_v1 <- separate(data = meyve, col = fruit_type, into = c(\"main_type\", \"product_type\"), sep = \" ve \")\n\nmeyve <- separate(data = meyve_v1, col = product_type, into = c(\"product_type\", \"unit\"), sep = \"-\")\n\nmeyve <-separate(meyve, product_type, into = c(\"product_code\", \"product_name\"), sep = \"^\\\\S*\\\\K\\\\s+\")\n\nSeparate province names and province codes\n\ntarim <- separate(data = tarim, col = province, into = c(\"province\", \"province_code\"), sep = \"-\")\n\ntahil <- separate(data = tahil, col = province, into = c(\"province\", \"province_code\"), sep = \"-\")\n\nmeyve <- separate(data = meyve, col = province, into = c(\"province\", \"province_code\"), sep = \"-\")\n\nsebze <- separate(data = sebze, col = province, into = c(\"province\", \"province_code\"), sep = \"-\")\n\nRemove paranthesis characters from product_name columns\n\ntahil$product_name <- gsub(\"[()]\", \"\", tahil$product_name)\nmeyve$product_name <- gsub(\"[()]\", \"\", meyve$product_name)\nsebze$product_name <- gsub(\"[()]\", \"\", sebze$product_name)\n\nRemove spaces at the beginning and at the end of the “unit” column\n\ntahil$unit = str_trim(tahil$unit)\nsebze$unit = str_trim(sebze$unit)\nmeyve$unit = str_trim(meyve$unit)\n\n\n\nCheck the Data Types\nview the data types\n\nstr(tarim)\n\ntibble [972 × 4] (S3: tbl_df/tbl/data.frame)\n $ province     : chr [1:972] \"Adana\" \"Adana\" \"Adana\" \"Adana\" ...\n $ province_code: chr [1:972] \"1\" \"1\" \"1\" \"1\" ...\n $ year         : chr [1:972] \"2010\" \"2011\" \"2012\" \"2013\" ...\n $ decare       : num [1:972] 5506353 4962979 4807968 4751612 4982042 ...\n\n\n\nstr(sebze)\n\ntibble [103,530 × 8] (S3: tbl_df/tbl/data.frame)\n $ main_type    : chr [1:103530] \"Ekilen Alan\" \"Ekilen Alan\" \"Ekilen Alan\" \"Ekilen Alan\" ...\n $ product_code : chr [1:103530] \"01.11.61.00.01.\" \"01.11.61.00.02.\" \"01.11.62.00.00.\" \"01.11.69.00.01.\" ...\n $ product_name : chr [1:103530] \"Fasulye, Taze \" \"Barbunya, Taze \" \"Bezelye, Taze \" \"Börülce, Taze \" ...\n $ unit         : chr [1:103530] \"Dekar\" \"Dekar\" \"Dekar\" \"Dekar\" ...\n $ province     : chr [1:103530] \"Adana\" \"Adana\" \"Adana\" \"Adana\" ...\n $ province_code: chr [1:103530] \"1\" \"1\" \"1\" \"1\" ...\n $ year         : chr [1:103530] \"2010\" \"2010\" \"2010\" \"2010\" ...\n $ decare       : num [1:103530] 3640 600 5860 55 3240 NA 2280 220 NA 30 ...\n\n\n\nstr(sebze)\n\ntibble [103,530 × 8] (S3: tbl_df/tbl/data.frame)\n $ main_type    : chr [1:103530] \"Ekilen Alan\" \"Ekilen Alan\" \"Ekilen Alan\" \"Ekilen Alan\" ...\n $ product_code : chr [1:103530] \"01.11.61.00.01.\" \"01.11.61.00.02.\" \"01.11.62.00.00.\" \"01.11.69.00.01.\" ...\n $ product_name : chr [1:103530] \"Fasulye, Taze \" \"Barbunya, Taze \" \"Bezelye, Taze \" \"Börülce, Taze \" ...\n $ unit         : chr [1:103530] \"Dekar\" \"Dekar\" \"Dekar\" \"Dekar\" ...\n $ province     : chr [1:103530] \"Adana\" \"Adana\" \"Adana\" \"Adana\" ...\n $ province_code: chr [1:103530] \"1\" \"1\" \"1\" \"1\" ...\n $ year         : chr [1:103530] \"2010\" \"2010\" \"2010\" \"2010\" ...\n $ decare       : num [1:103530] 3640 600 5860 55 3240 NA 2280 220 NA 30 ...\n\n\n\nstr(meyve)\n\ntibble [297,675 × 8] (S3: tbl_df/tbl/data.frame)\n $ main_type    : chr [1:297675] \"Meyve Veren Yaşta Ağaç Sayısı\" \"Meyve Veren Yaşta Ağaç Sayısı\" \"Meyve Veren Yaşta Ağaç Sayısı\" \"Meyve Veren Yaşta Ağaç Sayısı\" ...\n $ product_code : chr [1:297675] \"01.21.11.01.01.\" \"01.21.11.01.01.\" \"01.21.11.01.01.\" \"01.21.11.01.01.\" ...\n $ product_name : chr [1:297675] \"Sofralık Üzüm, Çekirdekli \" \"Sofralık Üzüm, Çekirdekli \" \"Sofralık Üzüm, Çekirdekli \" \"Sofralık Üzüm, Çekirdekli \" ...\n $ unit         : chr [1:297675] \"Adet Sayısı\" \"Adet Sayısı\" \"Adet Sayısı\" \"Adet Sayısı\" ...\n $ year         : chr [1:297675] \"2010\" \"2010\" \"2010\" \"2010\" ...\n $ province     : chr [1:297675] \"Adana\" \"Adıyaman\" \"Afyonkarahisar\" \"Aksaray\" ...\n $ province_code: chr [1:297675] \"1\" \"2\" \"3\" \"68\" ...\n $ production   : num [1:297675] 0 0 0 0 0 0 0 NA 0 0 ...\n\n\n\n\nConvert the Data Types\nConvert Year column to Date type\n\ntarim$year <- year(as.Date(tarim$year, format = \"%Y\"))\ntahil$year <- year(as.Date(tahil$year, format = \"%Y\"))\nmeyve$year <- year(as.Date(meyve$year, format = \"%Y\"))\nsebze$year <- year(as.Date(sebze$year, format = \"%Y\"))\n\n\n\nCheck Missing values\n\nsum(is.na(tarim))\n\n[1] 0\n\n\n\nsum(is.na(tahil));\n\n[1] 190210\n\n\n\nsum(is.na(meyve))\n\n[1] 162452\n\n\n\nsum(is.na(sebze))\n\n[1] 42723\n\n\nIf we remove the NAs, we may miss the provinces where some agriculture products are not produced/ or TUIK cannot get any information. So we first check whether there are 0 values\n\ntahil %>%\n  filter(decare==0)\n\n# A tibble: 475 × 8\n   main_type         product_code    produc…¹ unit  provi…² provi…³  year decare\n   <chr>             <chr>           <chr>    <chr> <chr>   <chr>   <dbl>  <dbl>\n 1 Ekilen Alan       01.19.31.09.00. \"Yonca … Dekar Afyonk… 3        2010      0\n 2 Hasat Edilen Alan 01.19.31.09.00. \"Yonca … Dekar Afyonk… 3        2010      0\n 3 Ekilen Alan       01.19.31.05.00. \"Korung… Dekar Aksaray 68       2010      0\n 4 Ekilen Alan       01.19.31.09.00. \"Yonca … Dekar Aksaray 68       2010      0\n 5 Hasat Edilen Alan 01.19.31.05.00. \"Korung… Dekar Aksaray 68       2010      0\n 6 Hasat Edilen Alan 01.19.31.09.00. \"Yonca … Dekar Aksaray 68       2010      0\n 7 Ekilen Alan       01.19.31.05.00. \"Korung… Dekar Ardahan 75       2010      0\n 8 Hasat Edilen Alan 01.19.31.05.00. \"Korung… Dekar Ardahan 75       2010      0\n 9 Ekilen Alan       01.19.31.05.00. \"Korung… Dekar Artvin  8        2010      0\n10 Ekilen Alan       01.19.31.09.00. \"Yonca … Dekar Artvin  8        2010      0\n# … with 465 more rows, and abbreviated variable names ¹​product_name,\n#   ²​province, ³​province_code\n\n\nAs it is seen from above there are 0 values, so we cannot sure what NA means in this dataset, so we will leave as it is.\n\n\nView the Datasets\n\nknitr::kable(head(tarim),caption = \"12-year agricultural area by province\")\n\n\n12-year agricultural area by province\n\n\nprovince\nprovince_code\nyear\ndecare\n\n\n\n\nAdana\n1\n2010\n5506353\n\n\nAdana\n1\n2011\n4962979\n\n\nAdana\n1\n2012\n4807968\n\n\nAdana\n1\n2013\n4751612\n\n\nAdana\n1\n2014\n4982042\n\n\nAdana\n1\n2015\n4887150\n\n\n\n\n\n\nknitr::kable(head(meyve,caption = \"12-year fruit production by province\"))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nmain_type\nproduct_code\nproduct_name\nunit\nyear\nprovince\nprovince_code\nproduction\n\n\n\n\nMeyve Veren Yaşta Ağaç Sayısı\n01.21.11.01.01.\nSofralık Üzüm, Çekirdekli\nAdet Sayısı\n2010\nAdana\n1\n0\n\n\nMeyve Veren Yaşta Ağaç Sayısı\n01.21.11.01.01.\nSofralık Üzüm, Çekirdekli\nAdet Sayısı\n2010\nAdıyaman\n2\n0\n\n\nMeyve Veren Yaşta Ağaç Sayısı\n01.21.11.01.01.\nSofralık Üzüm, Çekirdekli\nAdet Sayısı\n2010\nAfyonkarahisar\n3\n0\n\n\nMeyve Veren Yaşta Ağaç Sayısı\n01.21.11.01.01.\nSofralık Üzüm, Çekirdekli\nAdet Sayısı\n2010\nAksaray\n68\n0\n\n\nMeyve Veren Yaşta Ağaç Sayısı\n01.21.11.01.01.\nSofralık Üzüm, Çekirdekli\nAdet Sayısı\n2010\nAmasya\n5\n0\n\n\nMeyve Veren Yaşta Ağaç Sayısı\n01.21.11.01.01.\nSofralık Üzüm, Çekirdekli\nAdet Sayısı\n2010\nAnkara\n6\n0\n\n\n\n\n\n\nknitr::kable(head(sebze),caption = \"12-year vegetable production by province\")\n\n\n12-year vegetable production by province\n\n\n\n\n\n\n\n\n\n\n\n\nmain_type\nproduct_code\nproduct_name\nunit\nprovince\nprovince_code\nyear\ndecare\n\n\n\n\nEkilen Alan\n01.11.61.00.01.\nFasulye, Taze\nDekar\nAdana\n1\n2010\n3640\n\n\nEkilen Alan\n01.11.61.00.02.\nBarbunya, Taze\nDekar\nAdana\n1\n2010\n600\n\n\nEkilen Alan\n01.11.62.00.00.\nBezelye, Taze\nDekar\nAdana\n1\n2010\n5860\n\n\nEkilen Alan\n01.11.69.00.01.\nBörülce, Taze\nDekar\nAdana\n1\n2010\n55\n\n\nEkilen Alan\n01.11.69.00.02.\nBakla, Taze\nDekar\nAdana\n1\n2010\n3240\n\n\nEkilen Alan\n01.13.11.00.00.\nKuşkonmaz\nDekar\nAdana\n1\n2010\nNA\n\n\n\n\n\n\nknitr::kable(head(tahil),caption = \"12-year grain production by province\")\n\n\n12-year grain production by province\n\n\n\n\n\n\n\n\n\n\n\n\nmain_type\nproduct_code\nproduct_name\nunit\nprovince\nprovince_code\nyear\ndecare\n\n\n\n\nEkilen Alan\n01.11.11.00.00.\nDurum Buğdayı\nDekar\nAdana\n1\n2010\n8508\n\n\nEkilen Alan\n01.11.12.00.00.\nBuğday, Durum Buğdayı Hariç\nDekar\nAdana\n1\n2010\n2167738\n\n\nEkilen Alan\n01.11.20.00.00.\nMısır\nDekar\nAdana\n1\n2010\n860354\n\n\nEkilen Alan\n01.11.31.00.01.\nArpa Biralık\nDekar\nAdana\n1\n2010\nNA\n\n\nEkilen Alan\n01.11.31.00.02.\nArpa Diğer\nDekar\nAdana\n1\n2010\n63190\n\n\nEkilen Alan\n01.11.32.00.00.\nÇavdar\nDekar\nAdana\n1\n2010\n1042\n\n\n\n\n\n\n\nSave the final datasets\n\nsaveRDS(tarim, file = \"data//tarim.rds\")\nsaveRDS(tahil, file =\"data//tahil.rds\")\nsaveRDS(meyve, file =\"data//meyve.rds\")\nsaveRDS(sebze, file =\"data//sebze.rds\")"
  },
  {
    "objectID": "project/agriculture_eda.html",
    "href": "project/agriculture_eda.html",
    "title": "3  Group Project: Agriculture in Turkey - EDA",
    "section": "",
    "text": "Tarım\nAgriculture in Turkey - EDA is the part 2 of the Group Project: Agriculture in Turkey"
  },
  {
    "objectID": "project/agriculture_eda.html#key-takeaways",
    "href": "project/agriculture_eda.html#key-takeaways",
    "title": "3  Group Project: Agriculture in Turkey - EDA",
    "section": "KEY TAKEAWAYS",
    "text": "KEY TAKEAWAYS\nKey takeaways of the report as follows;\n\nIn Turkey, 9.213.278 decare agricultural areas is lost in last 12 years. However, after 2019 agricultural areas start to increase, interestingly first improvement is in 2020, “the pandemic year” but in general in 11 years, size of the agricultural areas moving downwards.\nWhen we look at provinces of Turkey, Şanlıurfa (2.145.906), Konya(2.058.950) and Sivass(1.771.190) lost biggest agricultural areas.In terms of lost rate, Zonguldak has the greatest lost, the city lost %35 of its agricultural areas in 12 years.\nWhen we look at regions of Turkey, İç Anadolu had the biggest loses in 2011 and 2017. However İç Anadolu’ total agricultural lands also high as compared to other regions so looking rate of yearly difference would be good indicator to analyze. Eastern part of the Turkey loss agricultural land at the highest rate in the first years of decade, “Büyüksehir Yasası” that enacted in the 2012 can be cause of this situation\nDistribution of Agricultural Areas in terms of fruit, vegetables and grain is examined. Only first 10 category is displayed, after 10th rank other categories are merged into “Other” category.\n\n\nIn fruit category, Hazelnut (%20.6) has the biggest area, second is Olive (For Oil Production), third is Pistachios\nIn vegetable category, Tomato (%13.1) has the biggest area, second is pumpkin seeds (10.6%), third is Watermelon (8.93%)\nIn grain category, Wheat (%33.8) has the biggest area, second is Barley (18.3%)\n\n\nYearly Grain/Fruit/Vegetable Production Areas is examined; we find that, increase in the agricultural areas after 2019 due to fruit (mostly nuts) and grain production.\nNext, we analyze, climate Indicators and changes in agricultural areas. Increase in average temperature in Turkey in 2018, also coincides with the decrease in Agricultural area in that year. We Note that we need further statistical tests to show the relation between, this presentations only shows the raw data. However, we know that higher temperatures can lead to more frequent and severe droughts, which can reduce crop yields and increase the risk of wildfires and decrease the agricultural areas.\n\nThe Intergovernmental Panel on Climate Change (IPCC) is an international body that assesses the science related to climate change. The IPCC’s Fifth Assessment Report, which was published in 2013, includes a chapter on “Agriculture, Forestry and Other Land Use,” which discusses the impacts of climate change on agriculture. You can find the report here: https://www.ipcc.ch/report/ar5/wg2/\n\nWe could not observe a clear relation between CO2 emission and agricultural area loss in Turkey. We find out that there is a complex relationship between agricultural loss and CO2 emissions. On the one hand, agriculture is a significant contributor to global CO2 emissions, through activities such as the use of fossil fuels for irrigation and transportation, and the cultivation of livestock. Reducing CO2 emissions from agriculture can help mitigate the impacts of climate change and reduce the risk of agricultural loss.\n\nThe Intergovernmental Panel on Climate Change (IPCC) is an international body that assesses the science related to climate change. The IPCC’s Fifth Assessment Report, which was published in 2013, includes a chapter on “Agriculture, Forestry and Other Land Use,” which discusses the impacts of climate change on agriculture, including the relationship between CO2 emissions and agricultural loss. You can find the report here: https://www.ipcc.ch/report/ar5/wg2/\n\nLastly, we look at the most efficient fruit in Turkey, apple is the winner first by far in terms of kg per tree, for 12 years.\n\nWe start by loading our dataset that we prepare in the Group Project: Agriculture in Turkey - Preprocessing\n\nCall necessary libraries\n\n#install.packages(\"readxl\")\n#install.packages(\"ggrepel\")\n#install.packages(\"plotly\")\nlibrary(plotly)\nlibrary(readxl)\nlibrary(lubridate)\nlibrary(dplyr)\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(tidyr)\nlibrary(ggrepel)"
  },
  {
    "objectID": "project/agriculture_eda.html#load-the-data",
    "href": "project/agriculture_eda.html#load-the-data",
    "title": "3  Group Project: Agriculture in Turkey - EDA",
    "section": "Load the Data",
    "text": "Load the Data\n\n# Prepare data\ntarim <- readRDS(\"data//tarim.rds\")\nmeyve <- readRDS(\"data//meyve.rds\")\nsebze <- readRDS(\"data//sebze.rds\")\ntahil <- readRDS(\"data//tahil.rds\")\nregions <- readRDS(\"data//Regions.rds\")"
  },
  {
    "objectID": "project/agriculture_eda.html#total-agriculture-areas",
    "href": "project/agriculture_eda.html#total-agriculture-areas",
    "title": "3  Group Project: Agriculture in Turkey - EDA",
    "section": "Total Agriculture Areas",
    "text": "Total Agriculture Areas\n\nAgriculture areas are shrinking slightly\n\ndf <- tarim %>%\n  group_by(year) %>%\n  summarise(TotalAgricultureDecare=sum(decare)) %>%\n  arrange(year) %>%\n  mutate(prev=lag(TotalAgricultureDecare)) %>%\n  mutate(diff =TotalAgricultureDecare-prev ) %>%\n  mutate(totalloss= sum(diff, na.rm=TRUE))\n  \ndf\n\n# A tibble: 12 × 5\n    year TotalAgricultureDecare       prev      diff totalloss\n   <dbl>                  <dbl>      <dbl>     <dbl>     <dbl>\n 1  2010             243942052         NA        NA  -9213278.\n 2  2011             236137614. 243942052  -7804438. -9213278.\n 3  2012             237819993. 236137614.  1682379. -9213278.\n 4  2013             238055119. 237819993.   235126. -9213278.\n 5  2014             239407138. 238055119.  1352018. -9213278.\n 6  2015             239336141. 239407138.   -70997. -9213278.\n 7  2016             237111592. 239336141. -2224550. -9213278.\n 8  2017             233465984. 237111592. -3645607. -9213278.\n 9  2018             231799859. 233465984. -1666125. -9213278.\n10  2019             230995034  231799859.  -804825. -9213278.\n11  2020             231451336. 230995034    456302. -9213278.\n12  2021             234728774. 231451336.  3277438. -9213278.\n\n\n\nggplot(data=df, aes(x=year, y=TotalAgricultureDecare)) +\n  geom_line() + \n  ylim(220000000,max(df$TotalAgricultureDecare))+\n  ggtitle(\"Agricultural Areas Between 2010-2021 in Turkey\")+\n  ylab(\"Agricultural Area (Decare)\")+\n  xlab(\"Year\")\n\n\n\n\nBetween 2010-2011, biggest agricultural area lost is happened. In 2011-2015, it seems to be good years for Agriculture in terms of magnitude of the areas. However, after 2015, general trend moves towards to losing the Agricultural areas, after 2019 there seems to be first improvement, interestingly first improvement is in 2020, “the pandemic year” but in general in 11 years, size of the agricultural areas moving downwards.\n\n\nYearly agriculture areas\n\nBy Province\nAdd previous decares to the dataframe\n\ndf_1 <- tarim %>% \n  arrange(province, year) %>% \n  group_by(province) %>% \n  mutate(prev_decare = lag(decare)) %>% \n  ungroup()\nhead(df_1)\n\n# A tibble: 6 × 5\n  province province_code  year   decare prev_decare\n  <chr>    <chr>         <dbl>    <dbl>       <dbl>\n1 Adana    1              2010 5506353          NA \n2 Adana    1              2011 4962979.    5506353 \n3 Adana    1              2012 4807968     4962979.\n4 Adana    1              2013 4751612.    4807968 \n5 Adana    1              2014 4982042.    4751612.\n6 Adana    1              2015 4887150     4982042.\n\n\nIf we look at year by year lost, the biggest lost was in Sivas, 2011 with 2.290.480 decare loss. Second is Kars with 1.628.918, third is Konya with 1.526.849. However, Konya’s total agriculture areas are greater than others. Rate of yearly difference and decare will be another indicator.\n\ndf_1 <- df_1 %>%\n  mutate(difference = (decare-prev_decare))%>%\n  arrange(desc(-1*difference))\n\nhead(df_1)\n\n# A tibble: 6 × 6\n  province  province_code  year    decare prev_decare difference\n  <chr>     <chr>         <dbl>     <dbl>       <dbl>      <dbl>\n1 Sivas     58             2011  7298275     9588755   -2290480 \n2 Kars      36             2013  2118640     3747558   -1628918 \n3 Konya     42             2011 19242360    20769209   -1526849 \n4 Şanlıurfa 63             2011 11444392.   12591457   -1147065.\n5 Yozgat    66             2013  5991422     6985982    -994560 \n6 Konya     42             2017 18854582    19636340.   -781758.\n\n\nIf we sort according to rate of difference Ardahan,2014 is the first with 0.79, Kars,2013 and Karabük,2018 are the second and Third in terms of yearly agriculture area lost.\n\ndf_1 <- df_1 %>%\n  mutate(difference_rate = round(difference/decare,2))%>%\n  arrange((difference_rate))\n\n\nhead(df_1)\n\n# A tibble: 6 × 7\n  province province_code  year  decare prev_decare difference difference_rate\n  <chr>    <chr>         <dbl>   <dbl>       <dbl>      <dbl>           <dbl>\n1 Ardahan  75             2014  329525      588632    -259107           -0.79\n2 Kars     36             2013 2118640     3747558   -1628918           -0.77\n3 Karabük  78             2018  337488      498499    -161011           -0.48\n4 Osmaniye 80             2011 1153635     1664382    -510747           -0.44\n5 Sivas    58             2011 7298275     9588755   -2290480           -0.31\n6 Kocaeli  41             2018  786927      974696    -187769           -0.24\n\n\nInterestingly, yearly loss is greater in the first half of the decade, but overall loss is increasing year by year, let’s visualise this by adding cumulative loss column.\nIf we look at total lost, Şanlıurda, Konya ans Sivas are the three big cities\n\ndf_p <- df_1 %>%\n  group_by(province) %>%\n  summarise('TotalDifference'=sum(difference, na.rm=TRUE),'TotalRate'=sum(difference_rate, na.rm=TRUE)) %>%\n  arrange(TotalDifference)\n\nknitr::kable(head(df_p),caption = \"Total Agriculture Lost Areas by Province 2010-2021\")\n\n\nTotal Agriculture Lost Areas by Province 2010-2021\n\n\nprovince\nTotalDifference\nTotalRate\n\n\n\n\nŞanlıurfa\n-2145906\n-0.19\n\n\nKonya\n-2058950\n-0.11\n\n\nSivas\n-1771190\n-0.26\n\n\nYozgat\n-1191803\n-0.19\n\n\nKırşehir\n-712105\n-0.23\n\n\nÇorum\n-679593\n-0.12\n\n\n\n\n\n\ndf_p <- df_p %>%\n  arrange(TotalDifference) %>%\n  mutate(TotalDifference=TotalDifference*-1)\n\nggplot(data=head(df_p,10), aes(x=province, y=TotalDifference)) +\n  geom_bar(position=\"dodge\",stat=\"identity\") + \n  ggtitle(\"Total Agriculture Area Loss by Province 2010-2021 - Top 10 Province\") +\n  theme(text = element_text(size = 10),element_line(size =15),axis.text.x = element_text(angle = 90))+ \n  xlab(\"Province\") + \n  ylab(\"Lost Agricultural Area (Decare)\") \n\n\n\n\nZonguldak lost 35% of its agricultural areas in 12 years\n\ndf_2010 <- df_1 %>% \n  filter(year == 2010) %>%\n  select(province,year,decare)\n\ndf_2021 <- df_1 %>% \n  filter(year == 2021) %>%\n  select(province,year,decare)\n\ndf_join <- inner_join(df_2010,df_2021, by = \"province\")\n\ndf_ttrate <- df_join %>%\n  mutate(totaldiffrate = 100*(decare.y-decare.x)/decare.x) %>%\n  arrange((totaldiffrate)) %>%\n  select (province,totaldiffrate )\n\nknitr::kable(head(df_ttrate),caption = \"Total Agricultural Area Loss Rate by Province 2010-2021\")\n\n\nTotal Agricultural Area Loss Rate by Province 2010-2021\n\n\nprovince\ntotaldiffrate\n\n\n\n\nZonguldak\n-34.97663\n\n\nBatman\n-26.32009\n\n\nOsmaniye\n-25.91478\n\n\nBartın\n-21.38318\n\n\nSivas\n-18.47153\n\n\nYalova\n-18.26819\n\n\n\n\n\n\nggplot(head(df_ttrate,10), aes(x=province, y=-1*totaldiffrate)) +\n  geom_bar(position=\"dodge\",stat=\"identity\") + \n  ggtitle(\"Total Agriculture Area Loss Rate by Province 2010-2021 (Top 10 Province)\") +\n  theme(axis.text.x = element_text(angle = 90)) +\n   ylab(\"Agricultural Area Loss Rate(%)\")+\n   xlab(\"Province\")\n\n\n\n\n\n\nBy Region\nAdding regions to tarim data\n\ndf_r<- merge(x=tarim,y=regions,by=\"province\",all.x = TRUE)\ndf_region<- df_r%>% select(region,year,decare) %>% \n                        group_by(region,year) %>% \n                          summarise(Total_Agriarea_in_the_Region=sum(decare))\ndf_region %>% head()                      \n\n# A tibble: 6 × 3\n# Groups:   region [1]\n  region           year Total_Agriarea_in_the_Region\n  <chr>           <dbl>                        <dbl>\n1 Akdeniz Bölgesi  2010                    24648042 \n2 Akdeniz Bölgesi  2011                    23881021.\n3 Akdeniz Bölgesi  2012                    23179936.\n4 Akdeniz Bölgesi  2013                    23385270.\n5 Akdeniz Bölgesi  2014                    23545660.\n6 Akdeniz Bölgesi  2015                    23219406.\n\n\nAdd previous decares to the dataframe\n\ndf_region_1<- df_region %>% \n               arrange(region,year) %>% \n                group_by(region) %>% \n                 mutate(prev_decare= lag(Total_Agriarea_in_the_Region)) %>% \n                   ungroup()\nhead(df_region_1)\n\n# A tibble: 6 × 4\n  region           year Total_Agriarea_in_the_Region prev_decare\n  <chr>           <dbl>                        <dbl>       <dbl>\n1 Akdeniz Bölgesi  2010                    24648042          NA \n2 Akdeniz Bölgesi  2011                    23881021.   24648042 \n3 Akdeniz Bölgesi  2012                    23179936.   23881021.\n4 Akdeniz Bölgesi  2013                    23385270.   23179936.\n5 Akdeniz Bölgesi  2014                    23545660.   23385270.\n6 Akdeniz Bölgesi  2015                    23219406.   23545660.\n\n\nIf we look at year by year lost, İç Anadolu had the biggest loses in 2011 and 2017. However İç Anadolu’ total agricultural lands also high as compared to other regions so looking rate of yearly difference would be good indicator to analyze.\n\ndf_region_1 <- df_region_1 %>% \n       mutate(difference=(Total_Agriarea_in_the_Region-prev_decare)) %>% \n         arrange((desc(-1*difference)))\ndf_region_1\n\n# A tibble: 84 × 5\n   region                     year Total_Agriarea_in_the_Region prev_d…¹ diffe…²\n   <chr>                     <dbl>                        <dbl>    <dbl>   <dbl>\n 1 İç Anadolu Bölgesi         2011                    78302580.   8.14e7 -3.09e6\n 2 İç Anadolu Bölgesi         2017                    77860586.   8.02e7 -2.33e6\n 3 Güneydoğu Anadolu Bölgesi  2011                    30283342.   3.21e7 -1.84e6\n 4 Doğu Anadolu Bölgesi       2013                    24865102.   2.67e7 -1.80e6\n 5 Marmara Bölgesi            2011                    23099178.   2.40e7 -9.03e5\n 6 Ege Bölgesi                2011                    27523248.   2.84e7 -8.74e5\n 7 Güneydoğu Anadolu Bölgesi  2016                    30263398    3.11e7 -8.46e5\n 8 Akdeniz Bölgesi            2011                    23881021.   2.46e7 -7.67e5\n 9 Akdeniz Bölgesi            2012                    23179936.   2.39e7 -7.01e5\n10 Güneydoğu Anadolu Bölgesi  2017                    29666365    3.03e7 -5.97e5\n# … with 74 more rows, and abbreviated variable names ¹​prev_decare, ²​difference\n\n\nEastern part of the Turkey loss agricultural land at the highest rate in the first years of decade, “Büyüksehir Yasası” that enacted in the 2012 can be cause of this situation.\n\ndf_region_1 <- df_region_1 %>% \n          mutate(difference_rate=round(difference/Total_Agriarea_in_the_Region,2)) %>% \n                   arrange((difference_rate))\nhead(df_region_1)\n\n# A tibble: 6 × 6\n  region                     year Total_Agriarea_in_th…¹ prev_…² diffe…³ diffe…⁴\n  <chr>                     <dbl>                  <dbl>   <dbl>   <dbl>   <dbl>\n1 Doğu Anadolu Bölgesi       2013              24865102.  2.67e7 -1.80e6   -0.07\n2 Güneydoğu Anadolu Bölgesi  2011              30283342.  3.21e7 -1.84e6   -0.06\n3 İç Anadolu Bölgesi         2011              78302580.  8.14e7 -3.09e6   -0.04\n4 Marmara Bölgesi            2011              23099178.  2.40e7 -9.03e5   -0.04\n5 İç Anadolu Bölgesi         2017              77860586.  8.02e7 -2.33e6   -0.03\n6 Ege Bölgesi                2011              27523248.  2.84e7 -8.74e5   -0.03\n# … with abbreviated variable names ¹​Total_Agriarea_in_the_Region,\n#   ²​prev_decare, ³​difference, ⁴​difference_rate\n\n\nLet’s look at the overall lose between 2010-2021 by region.In this case some regions interestingly increase their agricultural lands\n\ndf_region_overall <- df_region_1 %>% \n                      group_by(region) %>% \n                         summarise(\"Total_Difference\"=sum(difference,na.rm=TRUE),\"Total_Rate\"=sum(difference_rate,na.rm = TRUE)) %>%                             arrange(Total_Rate)\nknitr::kable(df_region_overall,caption = \"Total Agriculre Lost Areas by Region 2010-2021\")\n\n\nTotal Agriculre Lost Areas by Region 2010-2021\n\n\nregion\nTotal_Difference\nTotal_Rate\n\n\n\n\nGüneydoğu Anadolu Bölgesi\n-3003875.0\n-0.12\n\n\nAkdeniz Bölgesi\n-2254601.0\n-0.09\n\n\nİç Anadolu Bölgesi\n-4191358.8\n-0.05\n\n\nEge Bölgesi\n-432585.9\n-0.02\n\n\nKaradeniz Bölgesi\n-557447.5\n-0.01\n\n\nMarmara Bölgesi\n104406.2\n0.01\n\n\nDoğu Anadolu Bölgesi\n1122184.3\n0.02\n\n\n\n\n\nVisualization…\n\nggplot(data=df_region_overall,aes(x=region,y=Total_Difference,fill=region))+\n  geom_bar(position = \"dodge\",stat=\"identity\")+\n  ggtitle(\"Total Agriculture Area Loss by Region 2010-2021\")+\n  theme(text = element_text(size=10),element_line(size=15),axis.text.x=element_text(angle=90))\n\n\n\n\n\n\n\nDistribution of Agricultural Production\n\n\nFruits\n\nmeyve_dekar <-\n  meyve %>% \n  filter(year==2021 & unit=='Dekar')\n\n\ntotal = sum(meyve_dekar[, 'production'],na.rm=TRUE)\n\ngrouped_data <- meyve_dekar %>%\n  group_by(product_name) %>%\n  summarise(TotalbyName = sum(production,na.rm=TRUE)) %>%\n  mutate(rate = round((TotalbyName/total)*100,4))\n\nplot_data <- grouped_data %>%\n  mutate(rank = rank(-TotalbyName), \n         product_name = ifelse(rank <= 10, product_name, 'Other'))\n\nplot_data\n\n# A tibble: 63 × 4\n   product_name      TotalbyName   rate  rank\n   <chr>                   <dbl>  <dbl> <dbl>\n 1 \"Other\"                  7095 0.0198    53\n 2 \"Other\"                110712 0.308     36\n 3 \"Other\"                251546 0.700     25\n 4 \"Other\"                 27282 0.076     45\n 5 \"Other\"                 79075 0.220     39\n 6 \"Other\"                577324 1.61      12\n 7 \"Other\"                126580 0.352     34\n 8 \"Other\"                  3095 0.0086    55\n 9 \"Çay Yaprakları \"      789001 2.20       9\n10 \"Ceviz \"              1535204 4.27       6\n# … with 53 more rows\n\n\n\np <- plot_ly(plot_data, labels = ~product_name, values = ~TotalbyName, type = 'pie',textposition = 'outside',textinfo = 'label+percent') %>%\n  layout(title = 'Top 10 Fruit Products (in Decare) in Turkey  in 2021',\n         xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),\n         yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))\n\np\n\n\n\n\n\n\n\nVegetables\n\nsebze_df <- sebze %>%\n  filter(year==2021 & unit=='Dekar')\n\ntotal = sum(sebze_df [, 'decare'],na.rm=TRUE)\n\ngrouped_data <- sebze %>%\n  filter(year==2021 & unit=='Dekar') %>%\n  group_by(product_name) %>%\n  summarise(TotalbyName = sum(decare,na.rm=TRUE)) %>%\n  mutate(rate = round((TotalbyName/total)*100),4)\n\nplot_data_v <- grouped_data %>%\n  mutate(rank = rank(-TotalbyName), \n         product_name = ifelse(rank <= 10, product_name, 'Other'))\n\n\np <- plot_ly(plot_data_v, labels = ~product_name, values = ~TotalbyName, type = 'pie',textposition = 'outside',textinfo = 'label+percent') %>%\n  layout(title = 'Top 10 Vegetable Products (in Decare) in Turkey  in 2021',\n         xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),\n         yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))\n\np\n\n\n\n\n\n\n\n\nGrain\n\ntahil_df <-  tahil %>%\n  filter(year==2021 & unit=='Dekar')\n\ntotal = sum(tahil_df[, 'decare'],na.rm=TRUE)\n\ngrouped_data <- tahil %>%\n  filter(year==2021 & unit=='Dekar') %>%\n  group_by(product_name) %>%\n  summarise(TotalbyName = sum(decare,na.rm=TRUE)) %>%\n  mutate(rate = round((TotalbyName/total)*100),2)\n\nplot_data_g <- grouped_data %>%\n  mutate(rank = rank(-TotalbyName), \n         product_name = ifelse(rank <= 10, product_name, 'Other'))\n\n\np <- plot_ly(plot_data_g, labels = ~product_name, values = ~TotalbyName, type = 'pie',textposition = 'outside',textinfo = 'label+percent') %>%\n  layout(title = 'Top 10 Grain Products(as Decare) in Turkey in 2021',\n         xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),\n         yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))\n\np\n\n\n\n\n\n\n\nYearly Grain/Fruit/Vegetable Production Areas\nGrain production areas were decreasing until 2019, after 2019, it is increasing slightly like agricultural areas\n\ndf_gra <- tahil %>%\n  filter(unit=='Dekar') %>%\n  group_by(year)%>%\n  summarize(total_gra_decare = sum(decare, na.rm = TRUE)) %>%\n  mutate(prev_decare = lag(total_gra_decare)) %>%\n  mutate(diff_gra_rate = round((total_gra_decare-prev_decare)/total_gra_decare,2))\n\nggplot(data=df_gra, aes(x=year, y=total_gra_decare)) + \n  geom_line() +\n  geom_smooth(method = \"lm\", formula = y ~ poly(x, 3), se = FALSE) +\n  labs(x =\"Year\",y=\"Decare\") +\n  ggtitle(\"Total Grain Agriculture Areas(Decare) Between 2010-2021\")\n\n\n\n\nFruit production areas are increasing slightly unlike agricultural areas\n\ndf_meyve <- meyve %>%\n  filter(unit=='Dekar') %>%\n  group_by(year)%>%\n  summarize(total_gra_decare = sum(production, na.rm = TRUE)) %>%\n  mutate(prev_decare = lag(total_gra_decare)) %>%\n  mutate(diff_gra_rate = round((total_gra_decare-prev_decare)/total_gra_decare,2))\n\nggplot(data=df_meyve, aes(x=year, y=total_gra_decare)) + \n  geom_line() +\n  geom_smooth(method = \"lm\", formula = y ~ poly(x, 3), se = FALSE) +\n  labs(x =\"Year\",y=\"Decare\") +\n  ggtitle(\"Total Fruit Agriculture Areas(Decare) Between 2010-2021\")\n\n\n\n\n\nmeyve_sort <- meyve %>% arrange(year)\n\nmeyve_analiz <- meyve_sort %>%\n  filter(unit=='Dekar') %>%\n  group_by(year,product_name)%>%\n  summarize(total_decare = sum(production, na.rm = TRUE)) %>%\n  arrange(product_name,year) %>%\n  ungroup() \n\n\nmeyve_sort_analiz <- meyve_analiz %>%\n  mutate(prev_dekar=lag(total_decare))  %>%\n  mutate(difference_with_prev_year =total_decare-prev_dekar ) %>%\n  filter(year>2010) %>%\n  arrange(desc(difference_with_prev_year))\n\nknitr::kable(head(meyve_sort_analiz),caption = \"The Top Fruits in Terms of Yearly Increased Agricultural Areas \")\n\n\nThe Top Fruits in Terms of Yearly Increased Agricultural Areas\n\n\n\n\n\n\n\n\n\nyear\nproduct_name\ntotal_decare\nprev_dekar\ndifference_with_prev_year\n\n\n\n\n2012\nŞam Fıstığı Antep Fıstığı\n2835517\n2338368\n497149\n\n\n2018\nYağlık Zeytinler Zeytinyağı Üretimi İçin\n6544561\n6195707\n348854\n\n\n2011\nFındık\n6969643\n6678649\n290994\n\n\n2018\nŞam Fıstığı Antep Fıstığı\n3545003\n3288041\n256962\n\n\n2019\nSofralık Zeytinler\n2341306\n2099722\n241584\n\n\n2016\nŞam Fıstığı Antep Fıstığı\n3134316\n2914179\n220137\n\n\n\n\n\n\ndf_sebze <- sebze %>%\n  filter(unit=='Dekar') %>%\n  group_by(year)%>%\n  summarize(total_gra_decare = sum(decare, na.rm = TRUE)) %>%\n  mutate(prev_decare = lag(total_gra_decare)) %>%\n  mutate(diff_gra_rate = round((total_gra_decare-prev_decare)/total_gra_decare,2))\n\nggplot(data=df_sebze, aes(x=year, y=total_gra_decare)) + \n  geom_line() +\n  geom_smooth(method = \"lm\", formula = y ~ poly(x, 3), se = FALSE) +\n  labs(x =\"Year\",y=\"Decare\") +\n  ggtitle(\"Total Vegetable Agriculture Areas(Decare) Between 2010-2021\")\n\n\n\n\nAbove analysis show that, increase in the agricultural areas after 2019 due to fruit (mostly nuts) and grain production"
  },
  {
    "objectID": "project/agriculture_eda.html#climate-indicators-and-agrriculture-areas",
    "href": "project/agriculture_eda.html#climate-indicators-and-agrriculture-areas",
    "title": "3  Group Project: Agriculture in Turkey - EDA",
    "section": "Climate Indicators and Agrriculture Areas",
    "text": "Climate Indicators and Agrriculture Areas\nIn this section we will compare the yearly average temperatures with the agriculture areas. Weather data is gathered from TradingEconomics.\n\ntemperature = read_excel(\"data//temp.xlsx\")\n\n\ndf <- tarim %>%\n  group_by(year) %>%\n  summarise(TotalDecareNormalized=sum(decare)/ 20000000)\n\n\ndf_t <- df %>%\n  inner_join(temperature)\n\nJoining, by = \"year\"\n\nggplot(df_t, aes(year)) + \n  geom_line(aes(y = TotalDecareNormalized, colour = \"Total Agricultural Area in Decare (1/20000000)\")) + \n  geom_line(aes(y = temperature, colour = \"Temperature\")) +\n  ylab(NULL) +\n  ggtitle(\"Average Temperature vs Total Agricultural Area\") \n\n\n\n\nIncrease in average temperature in Turkey in 2018, also coincides with the decrease in Agricultural area. Note that we need further statistical tests to show the relation between, this presentations only shows the raw data. However, *there are evidences suggesting that rising temperatures due to climate change can have negative impacts on agriculture, including crop yields and the productivity of livestock.\nCO2 emission is also an important metric for measuring the climate change. CO2 emissions (metric tons per capita) Carbon dioxide emissions are those stemming from the burning of fossil fuels and the manufacture of cement. They include carbon dioxide produced during consumption of solid, liquid, and gas fuels and gas flaring.\nWorldBank launches the CO2 emissions (metric tons per capita) data for every country. I used WorldBank\nNote that, Data consists of the CO2 emission for 2009-2019\n\nco2 = read_excel(\"data//co2.xlsx\")\n\n\ndf_t$year<-as.character.Date(df_t$year)\ndf_t_c <- df_t %>%\n  inner_join(co2, by='year')\n\nggplot(df_t_c, aes(year)) + \n  geom_line(aes(y = TotalDecareNormalized, colour = \"Total Decare (1/20000000)\", group=1)) + \n  geom_line(aes(y = CO2emissions, colour = \"CO2 Emission(Ton Per Capita)\", group=2)) +\n  geom_line(aes(y = temperature, colour = \"Temperature\", group=3)) +\n  ylab(NULL) +\n  ggtitle(\"Average Temperature, CO2 Emission and Total Agricultural Area in Turkey\")"
  },
  {
    "objectID": "project/agriculture_eda.html#most-efficient-fruits-in-turkey",
    "href": "project/agriculture_eda.html#most-efficient-fruits-in-turkey",
    "title": "3  Group Project: Agriculture in Turkey - EDA",
    "section": "Most efficient Fruits in Turkey",
    "text": "Most efficient Fruits in Turkey\nProduction in kg per tree is as follows, is seems Apple is the winner here too.\n\ndf_e <- meyve %>%\n  filter(str_trim(unit)=='Kg/Meyve Veren Ağaç')%>%\n  group_by(product_name,unit) %>%\n  summarise(toplam = sum(production, na.rm = TRUE)) %>%\n  arrange(desc(toplam))\n\nknitr::kable(head(df_e),caption = \"Fruit Efficiency (KG % Per Tree)\")\n\n\nFruit Efficiency (KG % Per Tree)\n\n\nproduct_name\nunit\ntoplam\n\n\n\n\nElma Starking\nKg/Meyve Veren Ağaç\n41119\n\n\nElma Golden\nKg/Meyve Veren Ağaç\n40949\n\n\nDiğer Elmalar\nKg/Meyve Veren Ağaç\n33089\n\n\nArmut\nKg/Meyve Veren Ağaç\n31858\n\n\nElma Granny Smith\nKg/Meyve Veren Ağaç\n30369\n\n\nElma Amasya\nKg/Meyve Veren Ağaç\n30143\n\n\n\n\n\nLet’s group all fruits containing “Elma” under the Elma.\n\nmeyve_group <- meyve\n\nmeyve_group$product_name <- gsub(\".*Elma.*\", \"Elma\", meyve$product_name)\n\n\ndf_elma <- meyve_group %>%\n  filter(str_trim(unit)=='Kg/Meyve Veren Ağaç')%>%\n  group_by(year,product_name,unit) %>%\n  summarise(toplam = sum(production, na.rm = TRUE)) %>%\n  arrange(year,desc(toplam)) \ndf_elma\n\n# A tibble: 453 × 4\n# Groups:   year, product_name [453]\n    year product_name unit                toplam\n   <dbl> <chr>        <chr>                <dbl>\n 1  2010 \"Elma\"       Kg/Meyve Veren Ağaç  16454\n 2  2010 \"Ceviz \"     Kg/Meyve Veren Ağaç   2794\n 3  2010 \"Armut \"     Kg/Meyve Veren Ağaç   2532\n 4  2010 \"Ayva \"      Kg/Meyve Veren Ağaç   2176\n 5  2010 \"Erik \"      Kg/Meyve Veren Ağaç   2167\n 6  2010 \"Kiraz \"     Kg/Meyve Veren Ağaç   2126\n 7  2010 \"Şeftali \"   Kg/Meyve Veren Ağaç   2040\n 8  2010 \"Dut \"       Kg/Meyve Veren Ağaç   2005\n 9  2010 \"Kayısı \"    Kg/Meyve Veren Ağaç   1940\n10  2010 \"Vişne \"     Kg/Meyve Veren Ağaç   1802\n# … with 443 more rows\n\n\n\nggplot(data=df_elma, aes(x=product_name, y=toplam)) +\n  geom_bar(position=\"dodge\",stat=\"identity\") + \n  ggtitle(\"Fruit Efficiency (KG % Per Tree)\") +\n  theme(text = element_text(size = 10),element_line(size =15),axis.text.x = element_text(angle = 90))"
  },
  {
    "objectID": "project/report.html",
    "href": "project/report.html",
    "title": "4  Group Project: Agriculture in Turkey - Report",
    "section": "",
    "text": "Tarım\nAgriculture in Turkey - EDA is the part 2 of the Group Project: Agriculture in Turkey"
  },
  {
    "objectID": "project/report.html#key-takeaways",
    "href": "project/report.html#key-takeaways",
    "title": "4  Group Project: Agriculture in Turkey - Report",
    "section": "KEY TAKEAWAYS",
    "text": "KEY TAKEAWAYS\nKey takeaways of the report as follows;\n\nIn Turkey, 9.213.278 decare agricultural areas is lost in last 12 years. However, after 2019 agricultural areas start to increase, interestingly first improvement is in 2020, “the pandemic year” but in general in 11 years, size of the agricultural areas moving downwards.\nWhen we look at provinces of Turkey, Şanlıurfa (2.145.906), Konya(2.058.950) and Sivass(1.771.190) lost biggest agricultural areas.In terms of lost rate, Zonguldak has the greatest lost, the city lost %35 of its agricultural areas in 12 years.\nWhen we look at regions of Turkey, İç Anadolu had the biggest loses in 2011 and 2017. However İç Anadolu’ total agricultural lands also high as compared to other regions so looking rate of yearly difference would be good indicator to analyze. Eastern part of the Turkey loss agricultural land at the highest rate in the first years of decade, “Büyüksehir Yasası” that enacted in the 2012 can be cause of this situation\nDistribution of Agricultural Areas in terms of fruit, vegetables and grain is examined. Only first 10 category is displayed, after 10th rank other categories are merged into “Other” category.\n\n\nIn fruit category, Hazelnut (%20.6) has the biggest area, second is Olive (For Oil Production), third is Pistachios\nIn vegetable category, Tomato (%13.1) has the biggest area, second is pumpkin seeds (10.6%), third is Watermelon (8.93%)\nIn grain category, Wheat (%33.8) has the biggest area, second is Barley (18.3%)\n\n\nYearly Grain/Fruit/Vegetable Production Areas is examined; we find that, increase in the agricultural areas after 2019 due to fruit (mostly nuts) and grain production.\nNext, we analyze, climate Indicators and changes in agricultural areas. Increase in average temperature in Turkey in 2018, also coincides with the decrease in Agricultural area in that year. We Note that we need further statistical tests to show the relation between, this presentations only shows the raw data. However, we know that higher temperatures can lead to more frequent and severe droughts, which can reduce crop yields and increase the risk of wildfires and decrease the agricultural areas.\n\n\nThe Intergovernmental Panel on Climate Change (IPCC) is an international body that assesses the science related to climate change. The IPCC’s Fifth Assessment Report, which was published in 2013, includes a chapter on “Agriculture, Forestry and Other Land Use,” which discusses the impacts of climate change on agriculture. You can find the report here: https://www.ipcc.ch/report/ar5/wg2/\n\n\nWe could not observe a clear relation between CO2 emission and agricultural area loss in Turkey. We find out that there is a complex relationship between agricultural loss and CO2 emissions. On the one hand, agriculture is a significant contributor to global CO2 emissions, through activities such as the use of fossil fuels for irrigation and transportation, and the cultivation of livestock. Reducing CO2 emissions from agriculture can help mitigate the impacts of climate change and reduce the risk of agricultural loss.\n\n\nThe Intergovernmental Panel on Climate Change (IPCC) is an international body that assesses the science related to climate change. The IPCC’s Fifth Assessment Report, which was published in 2013, includes a chapter on “Agriculture, Forestry and Other Land Use,” which discusses the impacts of climate change on agriculture, including the relationship between CO2 emissions and agricultural loss. You can find the report here: https://www.ipcc.ch/report/ar5/wg2/\n\n\nLastly, we look at the most efficient fruit in Turkey, apple is the winner first by far in terms of kg per tree, for 12 years.\n\n\n\n\nCode\n#install.packages(\"readxl\")\n#install.packages(\"ggrepel\")\n#install.packages(\"plotly\")\nlibrary(plotly)\nlibrary(readxl)\nlibrary(lubridate)\nlibrary(dplyr)\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(tidyr)\nlibrary(ggrepel)\n\n\n\n\n\n\nCode\n# Prepare data\ntarim <- readRDS(\"data//tarim.rds\")\nmeyve <- readRDS(\"data//meyve.rds\")\nsebze <- readRDS(\"data//sebze.rds\")\ntahil <- readRDS(\"data//tahil.rds\")\nregions <- readRDS(\"data//Regions.rds\")"
  },
  {
    "objectID": "project/report.html#total-agriculture-areas",
    "href": "project/report.html#total-agriculture-areas",
    "title": "4  Group Project: Agriculture in Turkey - Report",
    "section": "Total Agriculture Areas",
    "text": "Total Agriculture Areas\n\nAgriculture areas are shrinking slightly\n\n\nCode\ndf <- tarim %>%\n  group_by(year) %>%\n  summarise(TotalAgricultureDecare=sum(decare)) %>%\n  arrange(year) %>%\n  mutate(prev=lag(TotalAgricultureDecare)) %>%\n  mutate(diff =TotalAgricultureDecare-prev ) %>%\n  mutate(totalloss= sum(diff, na.rm=TRUE))\n  \ndf\n\n\n# A tibble: 12 × 5\n    year TotalAgricultureDecare       prev      diff totalloss\n   <dbl>                  <dbl>      <dbl>     <dbl>     <dbl>\n 1  2010             243942052         NA        NA  -9213278.\n 2  2011             236137614. 243942052  -7804438. -9213278.\n 3  2012             237819993. 236137614.  1682379. -9213278.\n 4  2013             238055119. 237819993.   235126. -9213278.\n 5  2014             239407138. 238055119.  1352018. -9213278.\n 6  2015             239336141. 239407138.   -70997. -9213278.\n 7  2016             237111592. 239336141. -2224550. -9213278.\n 8  2017             233465984. 237111592. -3645607. -9213278.\n 9  2018             231799859. 233465984. -1666125. -9213278.\n10  2019             230995034  231799859.  -804825. -9213278.\n11  2020             231451336. 230995034    456302. -9213278.\n12  2021             234728774. 231451336.  3277438. -9213278.\n\n\n\n\nCode\nggplot(data=df, aes(x=year, y=TotalAgricultureDecare)) +\n  geom_line() + \n  ylim(220000000,max(df$TotalAgricultureDecare))+\n  ggtitle(\"Agricultural Areas Between 2010-2021 in Turkey\")+\n  ylab(\"Agricultural Area (Decare)\")+\n  xlab(\"Year\")\n\n\n\n\n\nBetween 2010-2011, biggest agricultural area lost is happened. In 2011-2015, it seems to be good years for Agriculture in terms of magnitude of the areas. However, after 2015, general trend moves towards to losing the Agricultural areas, after 2019 there seems to be first improvement, interestingly first improvement is in 2020, “the pandemic year” but in general in 11 years, size of the agricultural areas moving downwards.\n\n\nYearly agriculture areas\n\nBy Province\nAdd previous decares to the dataframe\n\n\nCode\ndf_1 <- tarim %>% \n  arrange(province, year) %>% \n  group_by(province) %>% \n  mutate(prev_decare = lag(decare)) %>% \n  ungroup()\nhead(df_1)\n\n\n# A tibble: 6 × 5\n  province province_code  year   decare prev_decare\n  <chr>    <chr>         <dbl>    <dbl>       <dbl>\n1 Adana    1              2010 5506353          NA \n2 Adana    1              2011 4962979.    5506353 \n3 Adana    1              2012 4807968     4962979.\n4 Adana    1              2013 4751612.    4807968 \n5 Adana    1              2014 4982042.    4751612.\n6 Adana    1              2015 4887150     4982042.\n\n\nIf we look at year by year lost, the biggest lost was in Sivas, 2011 with 2.290.480 decare loss. Second is Kars with 1.628.918, third is Konya with 1.526.849. However, Konya’s total agriculture areas are greater than others. Rate of yearly difference and decare will be another indicator.\n\n\nCode\ndf_1 <- df_1 %>%\n  mutate(difference = (decare-prev_decare))%>%\n  arrange(desc(-1*difference))\n\nhead(df_1)\n\n\n# A tibble: 6 × 6\n  province  province_code  year    decare prev_decare difference\n  <chr>     <chr>         <dbl>     <dbl>       <dbl>      <dbl>\n1 Sivas     58             2011  7298275     9588755   -2290480 \n2 Kars      36             2013  2118640     3747558   -1628918 \n3 Konya     42             2011 19242360    20769209   -1526849 \n4 Şanlıurfa 63             2011 11444392.   12591457   -1147065.\n5 Yozgat    66             2013  5991422     6985982    -994560 \n6 Konya     42             2017 18854582    19636340.   -781758.\n\n\nIf we sort according to rate of difference Ardahan,2014 is the first with 0.79, Kars,2013 and Karabük,2018 are the second and Third in terms of yearly agriculture area lost.\n\n\nCode\ndf_1 <- df_1 %>%\n  mutate(difference_rate = round(difference/decare,2))%>%\n  arrange((difference_rate))\n\n\nhead(df_1)\n\n\n# A tibble: 6 × 7\n  province province_code  year  decare prev_decare difference difference_rate\n  <chr>    <chr>         <dbl>   <dbl>       <dbl>      <dbl>           <dbl>\n1 Ardahan  75             2014  329525      588632    -259107           -0.79\n2 Kars     36             2013 2118640     3747558   -1628918           -0.77\n3 Karabük  78             2018  337488      498499    -161011           -0.48\n4 Osmaniye 80             2011 1153635     1664382    -510747           -0.44\n5 Sivas    58             2011 7298275     9588755   -2290480           -0.31\n6 Kocaeli  41             2018  786927      974696    -187769           -0.24\n\n\nInterestingly, yearly loss is greater in the first half of the decade, but overall loss is increasing year by year, let’s visualise this by adding cumulative loss column.\nIf we look at total lost, Şanlıurda, Konya ans Sivas are the three big cities\n\n\nCode\ndf_p <- df_1 %>%\n  group_by(province) %>%\n  summarise('TotalDifference'=sum(difference, na.rm=TRUE),'TotalRate'=sum(difference_rate, na.rm=TRUE)) %>%\n  arrange(TotalDifference)\n\nknitr::kable(head(df_p),caption = \"Total Agriculture Lost Areas by Province 2010-2021\")\n\n\n\nTotal Agriculture Lost Areas by Province 2010-2021\n\n\nprovince\nTotalDifference\nTotalRate\n\n\n\n\nŞanlıurfa\n-2145906\n-0.19\n\n\nKonya\n-2058950\n-0.11\n\n\nSivas\n-1771190\n-0.26\n\n\nYozgat\n-1191803\n-0.19\n\n\nKırşehir\n-712105\n-0.23\n\n\nÇorum\n-679593\n-0.12\n\n\n\n\n\n\n\nCode\ndf_p <- df_p %>%\n  arrange(TotalDifference) %>%\n  mutate(TotalDifference=TotalDifference*-1)\n\nggplot(data=head(df_p,10), aes(x=province, y=TotalDifference)) +\n  geom_bar(position=\"dodge\",stat=\"identity\") + \n  ggtitle(\"Total Agriculture Area Loss by Province 2010-2021 - Top 10 Province\") +\n  theme(text = element_text(size = 10),element_line(size =15),axis.text.x = element_text(angle = 90))+ \n  xlab(\"Province\") + \n  ylab(\"Lost Agricultural Area (Decare)\") \n\n\n\n\n\nZonguldak lost 35% of its agricultural areas in 12 years\n\n\nCode\ndf_2010 <- df_1 %>% \n  filter(year == 2010) %>%\n  select(province,year,decare)\n\ndf_2021 <- df_1 %>% \n  filter(year == 2021) %>%\n  select(province,year,decare)\n\ndf_join <- inner_join(df_2010,df_2021, by = \"province\")\n\ndf_ttrate <- df_join %>%\n  mutate(totaldiffrate = 100*(decare.y-decare.x)/decare.x) %>%\n  arrange((totaldiffrate)) %>%\n  select (province,totaldiffrate )\n\nknitr::kable(head(df_ttrate),caption = \"Total Agricultural Area Loss Rate by Province 2010-2021\")\n\n\n\nTotal Agricultural Area Loss Rate by Province 2010-2021\n\n\nprovince\ntotaldiffrate\n\n\n\n\nZonguldak\n-34.97663\n\n\nBatman\n-26.32009\n\n\nOsmaniye\n-25.91478\n\n\nBartın\n-21.38318\n\n\nSivas\n-18.47153\n\n\nYalova\n-18.26819\n\n\n\n\n\n\n\nCode\nggplot(head(df_ttrate,10), aes(x=province, y=-1*totaldiffrate)) +\n  geom_bar(position=\"dodge\",stat=\"identity\") + \n  ggtitle(\"Total Agriculture Area Loss Rate by Province 2010-2021 (Top 10 Province)\") +\n  theme(axis.text.x = element_text(angle = 90)) +\n   ylab(\"Agricultural Area Loss Rate(%)\")+\n   xlab(\"Province\")\n\n\n\n\n\n\n\nBy Region\n\n\nCode\ndf_r<- merge(x=tarim,y=regions,by=\"province\",all.x = TRUE)\ndf_region<- df_r%>% select(region,year,decare) %>% \n                        group_by(region,year) %>% \n                          summarise(Total_Agriarea_in_the_Region=sum(decare))\ndf_region %>% head()                      \n\n\n# A tibble: 6 × 3\n# Groups:   region [1]\n  region           year Total_Agriarea_in_the_Region\n  <chr>           <dbl>                        <dbl>\n1 Akdeniz Bölgesi  2010                    24648042 \n2 Akdeniz Bölgesi  2011                    23881021.\n3 Akdeniz Bölgesi  2012                    23179936.\n4 Akdeniz Bölgesi  2013                    23385270.\n5 Akdeniz Bölgesi  2014                    23545660.\n6 Akdeniz Bölgesi  2015                    23219406.\n\n\n\n\nCode\ndf_region_1<- df_region %>% \n               arrange(region,year) %>% \n                group_by(region) %>% \n                 mutate(prev_decare= lag(Total_Agriarea_in_the_Region)) %>% \n                   ungroup()\nhead(df_region_1)\n\n\n# A tibble: 6 × 4\n  region           year Total_Agriarea_in_the_Region prev_decare\n  <chr>           <dbl>                        <dbl>       <dbl>\n1 Akdeniz Bölgesi  2010                    24648042          NA \n2 Akdeniz Bölgesi  2011                    23881021.   24648042 \n3 Akdeniz Bölgesi  2012                    23179936.   23881021.\n4 Akdeniz Bölgesi  2013                    23385270.   23179936.\n5 Akdeniz Bölgesi  2014                    23545660.   23385270.\n6 Akdeniz Bölgesi  2015                    23219406.   23545660.\n\n\nIf we look at year by year lost, İç Anadolu had the biggest loses in 2011 and 2017. However İç Anadolu’ total agricultural lands also high as compared to other regions so looking rate of yearly difference would be good indicator to analyze.\n\n\nCode\ndf_region_1 <- df_region_1 %>% \n       mutate(difference=(Total_Agriarea_in_the_Region-prev_decare)) %>% \n         arrange((desc(-1*difference)))\ndf_region_1\n\n\n# A tibble: 84 × 5\n   region                     year Total_Agriarea_in_the_Region prev_d…¹ diffe…²\n   <chr>                     <dbl>                        <dbl>    <dbl>   <dbl>\n 1 İç Anadolu Bölgesi         2011                    78302580.   8.14e7 -3.09e6\n 2 İç Anadolu Bölgesi         2017                    77860586.   8.02e7 -2.33e6\n 3 Güneydoğu Anadolu Bölgesi  2011                    30283342.   3.21e7 -1.84e6\n 4 Doğu Anadolu Bölgesi       2013                    24865102.   2.67e7 -1.80e6\n 5 Marmara Bölgesi            2011                    23099178.   2.40e7 -9.03e5\n 6 Ege Bölgesi                2011                    27523248.   2.84e7 -8.74e5\n 7 Güneydoğu Anadolu Bölgesi  2016                    30263398    3.11e7 -8.46e5\n 8 Akdeniz Bölgesi            2011                    23881021.   2.46e7 -7.67e5\n 9 Akdeniz Bölgesi            2012                    23179936.   2.39e7 -7.01e5\n10 Güneydoğu Anadolu Bölgesi  2017                    29666365    3.03e7 -5.97e5\n# … with 74 more rows, and abbreviated variable names ¹​prev_decare, ²​difference\n\n\nEastern part of the Turkey loss agricultural land at the highest rate in the first years of decade, “Büyüksehir Yasası” that enacted in the 2012 can be cause of this situation.\n\n\nCode\ndf_region_1 <- df_region_1 %>% \n          mutate(difference_rate=round(difference/Total_Agriarea_in_the_Region,2)) %>% \n                   arrange((difference_rate))\nhead(df_region_1)\n\n\n# A tibble: 6 × 6\n  region                     year Total_Agriarea_in_th…¹ prev_…² diffe…³ diffe…⁴\n  <chr>                     <dbl>                  <dbl>   <dbl>   <dbl>   <dbl>\n1 Doğu Anadolu Bölgesi       2013              24865102.  2.67e7 -1.80e6   -0.07\n2 Güneydoğu Anadolu Bölgesi  2011              30283342.  3.21e7 -1.84e6   -0.06\n3 İç Anadolu Bölgesi         2011              78302580.  8.14e7 -3.09e6   -0.04\n4 Marmara Bölgesi            2011              23099178.  2.40e7 -9.03e5   -0.04\n5 İç Anadolu Bölgesi         2017              77860586.  8.02e7 -2.33e6   -0.03\n6 Ege Bölgesi                2011              27523248.  2.84e7 -8.74e5   -0.03\n# … with abbreviated variable names ¹​Total_Agriarea_in_the_Region,\n#   ²​prev_decare, ³​difference, ⁴​difference_rate\n\n\nLet’s look at the overall lose between 2010-2021 by region.In this case some regions interestingly increase their agricultural lands\n\n\nCode\ndf_region_overall <- df_region_1 %>% \n                      group_by(region) %>% \n                         summarise(\"Total_Difference\"=sum(difference,na.rm=TRUE),\"Total_Rate\"=sum(difference_rate,na.rm = TRUE)) %>%                             arrange(Total_Rate)\nknitr::kable(df_region_overall,caption = \"Total Agriculre Lost Areas by Region 2010-2021\")\n\n\n\nTotal Agriculre Lost Areas by Region 2010-2021\n\n\nregion\nTotal_Difference\nTotal_Rate\n\n\n\n\nGüneydoğu Anadolu Bölgesi\n-3003875.0\n-0.12\n\n\nAkdeniz Bölgesi\n-2254601.0\n-0.09\n\n\nİç Anadolu Bölgesi\n-4191358.8\n-0.05\n\n\nEge Bölgesi\n-432585.9\n-0.02\n\n\nKaradeniz Bölgesi\n-557447.5\n-0.01\n\n\nMarmara Bölgesi\n104406.2\n0.01\n\n\nDoğu Anadolu Bölgesi\n1122184.3\n0.02\n\n\n\n\n\nVisualization…\n\n\nCode\nggplot(data=df_region_overall,aes(x=region,y=Total_Difference,fill=region))+\n  geom_bar(position = \"dodge\",stat=\"identity\")+\n  ggtitle(\"Total Agriculture Area Loss by Region 2010-2021\")+\n  theme(text = element_text(size=10),element_line(size=15),axis.text.x=element_text(angle=90))\n\n\n\n\n\n\n\n\nDistribution of Agricultural Production\n\n\nFruits\n\n\nCode\nmeyve_dekar <-\n  meyve %>% \n  filter(year==2021 & unit=='Dekar')\n\n\ntotal = sum(meyve_dekar[, 'production'],na.rm=TRUE)\n\ngrouped_data <- meyve_dekar %>%\n  group_by(product_name) %>%\n  summarise(TotalbyName = sum(production,na.rm=TRUE)) %>%\n  mutate(rate = round((TotalbyName/total)*100,4))\n\nplot_data <- grouped_data %>%\n  mutate(rank = rank(-TotalbyName), \n         product_name = ifelse(rank <= 10, product_name, 'Other'))\n\n\n\n\nCode\np <- plot_ly(plot_data, labels = ~product_name, values = ~TotalbyName, type = 'pie',textposition = 'outside',textinfo = 'label+percent') %>%\n  layout(title = 'Top 10 Fruit Products (in Decare) in Turkey  in 2021',\n         xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),\n         yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))\n\np\n\n\n\n\n\n\n\n\nVegetables\n\n\nCode\nsebze_df <- sebze %>%\n  filter(year==2021 & unit=='Dekar')\n\ntotal = sum(sebze_df [, 'decare'],na.rm=TRUE)\n\ngrouped_data <- sebze %>%\n  filter(year==2021 & unit=='Dekar') %>%\n  group_by(product_name) %>%\n  summarise(TotalbyName = sum(decare,na.rm=TRUE)) %>%\n  mutate(rate = round((TotalbyName/total)*100),4)\n\nplot_data_v <- grouped_data %>%\n  mutate(rank = rank(-TotalbyName), \n         product_name = ifelse(rank <= 10, product_name, 'Other'))\n\n\n\n\nCode\np <- plot_ly(plot_data_v, labels = ~product_name, values = ~TotalbyName, type = 'pie',textposition = 'outside',textinfo = 'label+percent') %>%\n  layout(title = 'Top 10 Vegetable Products (in Decare) in Turkey  in 2021',\n         xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),\n         yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))\n\np\n\n\n\n\n\n\n\n\n\nGrain\n\n\nCode\ntahil_df <-  tahil %>%\n  filter(year==2021 & unit=='Dekar')\n\ntotal = sum(tahil_df[, 'decare'],na.rm=TRUE)\n\ngrouped_data <- tahil %>%\n  filter(year==2021 & unit=='Dekar') %>%\n  group_by(product_name) %>%\n  summarise(TotalbyName = sum(decare,na.rm=TRUE)) %>%\n  mutate(rate = round((TotalbyName/total)*100),2)\n\nplot_data_g <- grouped_data %>%\n  mutate(rank = rank(-TotalbyName), \n         product_name = ifelse(rank <= 10, product_name, 'Other'))\n\n\n\n\nCode\np <- plot_ly(plot_data_g, labels = ~product_name, values = ~TotalbyName, type = 'pie',textposition = 'outside',textinfo = 'label+percent') %>%\n  layout(title = 'Top 10 Grain Products(as Decare) in Turkey in 2021',\n         xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),\n         yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))\n\np\n\n\n\n\n\n\n\n\nYearly Grain/Fruit/Vegetable Production Areas\nGrain production areas were decreasing until 2019, after 2019, it is increasing slightly like agricultural areas\n\n\nCode\ndf_gra <- tahil %>%\n  filter(unit=='Dekar') %>%\n  group_by(year)%>%\n  summarize(total_gra_decare = sum(decare, na.rm = TRUE)) %>%\n  mutate(prev_decare = lag(total_gra_decare)) %>%\n  mutate(diff_gra_rate = round((total_gra_decare-prev_decare)/total_gra_decare,2))\n\nggplot(data=df_gra, aes(x=year, y=total_gra_decare)) + \n  geom_line() +\n  geom_smooth(method = \"lm\", formula = y ~ poly(x, 3), se = FALSE) +\n  labs(x =\"Year\",y=\"Decare\") +\n  ggtitle(\"Total Grain Agriculture Areas(Decare) Between 2010-2021\")\n\n\n\n\n\nFruit production areas are increasing slightly unlike agricultural areas\n\n\nCode\ndf_meyve <- meyve %>%\n  filter(unit=='Dekar') %>%\n  group_by(year)%>%\n  summarize(total_gra_decare = sum(production, na.rm = TRUE)) %>%\n  mutate(prev_decare = lag(total_gra_decare)) %>%\n  mutate(diff_gra_rate = round((total_gra_decare-prev_decare)/total_gra_decare,2))\n\nggplot(data=df_meyve, aes(x=year, y=total_gra_decare)) + \n  geom_line() +\n  geom_smooth(method = \"lm\", formula = y ~ poly(x, 3), se = FALSE) +\n  labs(x =\"Year\",y=\"Decare\") +\n  ggtitle(\"Total Fruit Agriculture Areas(Decare) Between 2010-2021\")\n\n\n\n\n\n\n\nCode\nmeyve_sort <- meyve %>% arrange(year)\n\nmeyve_analiz <- meyve_sort %>%\n  filter(unit=='Dekar') %>%\n  group_by(year,product_name)%>%\n  summarize(total_decare = sum(production, na.rm = TRUE)) %>%\n  arrange(product_name,year) %>%\n  ungroup() \n\n\nmeyve_sort_analiz <- meyve_analiz %>%\n  mutate(prev_dekar=lag(total_decare))  %>%\n  mutate(difference_with_prev_year =total_decare-prev_dekar ) %>%\n  filter(year>2010) %>%\n  arrange(desc(difference_with_prev_year))\n\nknitr::kable(head(meyve_sort_analiz),caption = \"The Top Fruits in Terms of Yearly Increased Agricultural Areas \")\n\n\n\nThe Top Fruits in Terms of Yearly Increased Agricultural Areas\n\n\n\n\n\n\n\n\n\nyear\nproduct_name\ntotal_decare\nprev_dekar\ndifference_with_prev_year\n\n\n\n\n2012\nŞam Fıstığı Antep Fıstığı\n2835517\n2338368\n497149\n\n\n2018\nYağlık Zeytinler Zeytinyağı Üretimi İçin\n6544561\n6195707\n348854\n\n\n2011\nFındık\n6969643\n6678649\n290994\n\n\n2018\nŞam Fıstığı Antep Fıstığı\n3545003\n3288041\n256962\n\n\n2019\nSofralık Zeytinler\n2341306\n2099722\n241584\n\n\n2016\nŞam Fıstığı Antep Fıstığı\n3134316\n2914179\n220137\n\n\n\n\n\n\n\nCode\ndf_sebze <- sebze %>%\n  filter(unit=='Dekar') %>%\n  group_by(year)%>%\n  summarize(total_gra_decare = sum(decare, na.rm = TRUE)) %>%\n  mutate(prev_decare = lag(total_gra_decare)) %>%\n  mutate(diff_gra_rate = round((total_gra_decare-prev_decare)/total_gra_decare,2))\n\nggplot(data=df_sebze, aes(x=year, y=total_gra_decare)) + \n  geom_line() +\n  geom_smooth(method = \"lm\", formula = y ~ poly(x, 3), se = FALSE) +\n  labs(x =\"Year\",y=\"Decare\") +\n  ggtitle(\"Total Vegetable Agriculture Areas(Decare) Between 2010-2021\")\n\n\n\n\n\nAbove analysis show that, increase in the agricultural areas after 2019 due to fruit (mostly nuts) and grain production"
  },
  {
    "objectID": "project/report.html#climate-indicators-and-agrriculture-areas",
    "href": "project/report.html#climate-indicators-and-agrriculture-areas",
    "title": "4  Group Project: Agriculture in Turkey - Report",
    "section": "Climate Indicators and Agrriculture Areas",
    "text": "Climate Indicators and Agrriculture Areas\nIn this section we will compare the yearly average temperatures with the agriculture areas. Weather data is gathered from TradingEconomics.\n\n\nCode\ntemperature = read_excel(\"data//temp.xlsx\")\n\n\ndf <- tarim %>%\n  group_by(year) %>%\n  summarise(TotalDecareNormalized=sum(decare)/ 20000000)\n\n\ndf_t <- df %>%\n  inner_join(temperature)\n\n\nJoining, by = \"year\"\n\n\nCode\nggplot(df_t, aes(year)) + \n  geom_line(aes(y = TotalDecareNormalized, colour = \"Total Agricultural Area in Decare (1/20000000)\")) + \n  geom_line(aes(y = temperature, colour = \"Temperature\")) +\n  ylab(NULL) +\n  ggtitle(\"Average Temperature vs Total Agricultural Area\") \n\n\n\n\n\nIncrease in average temperature in Turkey in 2018, also coincides with the decrease in Agricultural area. Note that we need further statistical tests to show the relation between, this presentations only shows the raw data. However, *there are evidences suggesting that rising temperatures due to climate change can have negative impacts on agriculture, including crop yields and the productivity of livestock.\nCO2 emission is also an important metric for measuring the climate change. CO2 emissions (metric tons per capita) Carbon dioxide emissions are those stemming from the burning of fossil fuels and the manufacture of cement. They include carbon dioxide produced during consumption of solid, liquid, and gas fuels and gas flaring.\nWorldBank launches the CO2 emissions (metric tons per capita) data for every country. I used WorldBank\nNote that, Data consists of the CO2 emission for 2009-2019\n\n\nCode\nco2 = read_excel(\"data//co2.xlsx\")\n\n\ndf_t$year<-as.character.Date(df_t$year)\ndf_t_c <- df_t %>%\n  inner_join(co2, by='year')\n\nggplot(df_t_c, aes(year)) + \n  geom_line(aes(y = TotalDecareNormalized, colour = \"Total Decare (1/20000000)\", group=1)) + \n  geom_line(aes(y = CO2emissions, colour = \"CO2 Emission(Ton Per Capita)\", group=2)) +\n  geom_line(aes(y = temperature, colour = \"Temperature\", group=3)) +\n  ylab(NULL) +\n  ggtitle(\"Average Temperature, CO2 Emission and Total Agricultural Area in Turkey\")"
  },
  {
    "objectID": "project/report.html#most-efficient-fruits-in-turkey",
    "href": "project/report.html#most-efficient-fruits-in-turkey",
    "title": "4  Group Project: Agriculture in Turkey - Report",
    "section": "Most efficient Fruits in Turkey",
    "text": "Most efficient Fruits in Turkey\nProduction in kg per tree is as follows, is seems Apple is the winner here too.\n\n\nCode\ndf_e <- meyve %>%\n  filter(str_trim(unit)=='Kg/Meyve Veren Ağaç')%>%\n  group_by(product_name,unit) %>%\n  summarise(toplam = sum(production, na.rm = TRUE)) %>%\n  arrange(desc(toplam))\n\nknitr::kable(head(df_e),caption = \"Fruit Efficiency (KG % Per Tree)\")\n\n\n\nFruit Efficiency (KG % Per Tree)\n\n\nproduct_name\nunit\ntoplam\n\n\n\n\nElma Starking\nKg/Meyve Veren Ağaç\n41119\n\n\nElma Golden\nKg/Meyve Veren Ağaç\n40949\n\n\nDiğer Elmalar\nKg/Meyve Veren Ağaç\n33089\n\n\nArmut\nKg/Meyve Veren Ağaç\n31858\n\n\nElma Granny Smith\nKg/Meyve Veren Ağaç\n30369\n\n\nElma Amasya\nKg/Meyve Veren Ağaç\n30143\n\n\n\n\n\nLet’s group all fruits containing “Elma” under the Elma.\n\n\nCode\nmeyve_group <- meyve\n\nmeyve_group$product_name <- gsub(\".*Elma.*\", \"Elma\", meyve$product_name)\n\n\ndf_elma <- meyve_group %>%\n  filter(str_trim(unit)=='Kg/Meyve Veren Ağaç')%>%\n  group_by(year,product_name,unit) %>%\n  summarise(toplam = sum(production, na.rm = TRUE)) %>%\n  arrange(year,desc(toplam)) \ndf_elma\n\n\n# A tibble: 453 × 4\n# Groups:   year, product_name [453]\n    year product_name unit                toplam\n   <dbl> <chr>        <chr>                <dbl>\n 1  2010 \"Elma\"       Kg/Meyve Veren Ağaç  16454\n 2  2010 \"Ceviz \"     Kg/Meyve Veren Ağaç   2794\n 3  2010 \"Armut \"     Kg/Meyve Veren Ağaç   2532\n 4  2010 \"Ayva \"      Kg/Meyve Veren Ağaç   2176\n 5  2010 \"Erik \"      Kg/Meyve Veren Ağaç   2167\n 6  2010 \"Kiraz \"     Kg/Meyve Veren Ağaç   2126\n 7  2010 \"Şeftali \"   Kg/Meyve Veren Ağaç   2040\n 8  2010 \"Dut \"       Kg/Meyve Veren Ağaç   2005\n 9  2010 \"Kayısı \"    Kg/Meyve Veren Ağaç   1940\n10  2010 \"Vişne \"     Kg/Meyve Veren Ağaç   1802\n# … with 443 more rows\n\n\n\n\nCode\nggplot(data=df_elma, aes(x=product_name, y=toplam)) +\n  geom_bar(position=\"dodge\",stat=\"identity\") + \n  ggtitle(\"Fruit Efficiency (KG % Per Tree)\") +\n  theme(text = element_text(size = 10),element_line(size =15),axis.text.x = element_text(angle = 90))"
  }
]